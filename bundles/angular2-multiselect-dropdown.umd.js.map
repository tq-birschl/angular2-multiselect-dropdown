{"version":3,"file":"angular2-multiselect-dropdown.umd.js","sources":["ng://angular2-multiselect-dropdown/lib/multiselect.model.ts","ng://angular2-multiselect-dropdown/lib/clickOutside.ts","ng://angular2-multiselect-dropdown/lib/multiselect.service.ts","ng://angular2-multiselect-dropdown/lib/list-filter.ts","ng://angular2-multiselect-dropdown/lib/menu-item.ts","ng://angular2-multiselect-dropdown/lib/virtual-scroll/virtual-scroll.ts","ng://angular2-multiselect-dropdown/lib/multiselect.component.ts"],"sourcesContent":["export class MyException {\r\n\tstatus : number;\r\n\tbody : any;\r\n\tconstructor(status : number, body : any) {\r\n\t\tthis.status = status;\r\n\t\tthis.body = body;\r\n\t}\r\n\t\r\n}","import { Directive, ElementRef, Output, EventEmitter, HostListener, Input, OnInit, OnChanges } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[clickOutside]'\r\n})\r\nexport class ClickOutsideDirective {\r\n    constructor(private _elementRef: ElementRef) {\r\n    }\r\n\r\n    @Output()\r\n    public clickOutside = new EventEmitter<MouseEvent>();\r\n\r\n    @HostListener('document:click', ['$event', '$event.target'])\r\n    @HostListener('document:touchstart', ['$event', '$event.target'])\r\n    public onClick(event: MouseEvent, targetElement: HTMLElement): void {\r\n        if (!targetElement) {\r\n            return;\r\n        }\r\n\r\n        const clickedInside = this._elementRef.nativeElement.contains(targetElement);\r\n        if (!clickedInside) {\r\n            this.clickOutside.emit(event);\r\n        }\r\n    }\r\n}\r\n\r\n@Directive({\r\n    selector: '[scroll]'\r\n})\r\nexport class ScrollDirective {\r\n    constructor(private _elementRef: ElementRef) {\r\n    }\r\n\r\n    @Output()\r\n    public scroll = new EventEmitter<MouseEvent>();\r\n\r\n    @HostListener('scroll', ['$event'])\r\n    public onClick(event: MouseEvent, targetElement: HTMLElement): void {\r\n        this.scroll.emit(event);\r\n    }\r\n}\r\n@Directive({\r\n    selector: '[styleProp]'\r\n})\r\nexport class styleDirective {\r\n\r\n    constructor(private el: ElementRef) {\r\n\r\n    }\r\n\r\n    @Input('styleProp') styleVal: number;\r\n\r\n    ngOnInit() {\r\n\r\n        this.el.nativeElement.style.top = this.styleVal;\r\n    }\r\n    ngOnChanges(): void {\r\n        this.el.nativeElement.style.top = this.styleVal;\r\n    }\r\n}\r\n\r\n\r\n@Directive({\r\n    selector: '[setPosition]'\r\n})\r\nexport class setPosition implements OnInit, OnChanges {\r\n\r\n    @Input('setPosition') height: number;\r\n\r\n    constructor(public el: ElementRef) {\r\n\r\n    }\r\n    ngOnInit() {\r\n        if (this.height) {\r\n            this.el.nativeElement.style.bottom = parseInt(this.height + 15 + \"\") + 'px';\r\n        }\r\n    }\r\n    ngOnChanges(): void {\r\n        if (this.height) {\r\n            this.el.nativeElement.style.bottom = parseInt(this.height + 15 + \"\") + 'px';\r\n        }\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n\r\n@Injectable()\r\nexport class DataService {\r\n\r\n  filteredData: any = [];\r\n  private subject = new Subject<any>();\r\n\r\n  setData(data: any) {\r\n\r\n    this.filteredData = data;\r\n    this.subject.next(data);\r\n  }\r\n  getData(): Observable<any> {\r\n    return this.subject.asObservable();\r\n  }\r\n  getFilteredData() {\r\n    if (this.filteredData && this.filteredData.length > 0) {\r\n      return this.filteredData;\r\n    }\r\n    else {\r\n      return [];\r\n    }\r\n  }\r\n\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DataService } from './multiselect.service';\r\n\r\n\r\n@Pipe({\r\n    name: 'listFilter',\r\n    pure: true\r\n})\r\nexport class ListFilterPipe implements PipeTransform {\r\n\r\n    public filteredList: any = [];\r\n    constructor(private ds: DataService) {\r\n\r\n    }\r\n\r\n    transform(items: any[], filter: any, searchBy: any): any[] {\r\n        if (!items || !filter) {\r\n            this.ds.setData(items);\r\n            return items;\r\n        }\r\n        this.filteredList = items.filter((item: any) => this.applyFilter(item, filter, searchBy));\r\n        this.ds.setData(this.filteredList);\r\n        return this.filteredList;\r\n    }\r\n    applyFilter(item: any, filter: any, searchBy: any): boolean {\r\n        let found = false;\r\n        if (searchBy.length > 0) {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            }\r\n            else {\r\n                for (var t = 0; t < searchBy.length; t++) {\r\n                    if (filter && item[searchBy[t]] && item[searchBy[t]] != \"\") {\r\n                        if (item[searchBy[t]].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n        } else {\r\n            if (item.grpTitle) {\r\n                found = true;\r\n            }\r\n            else {\r\n                for (var prop in item) {\r\n                    if (filter && item[prop]) {\r\n                        if (item[prop].toString().toLowerCase().indexOf(filter.toLowerCase()) >= 0) {\r\n                            found = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return found;\r\n    }\r\n}","import { Component, OnInit, OnDestroy, NgModule, TemplateRef, AfterContentInit, ContentChild, EmbeddedViewRef, OnChanges, ViewContainerRef, ViewEncapsulation, Input, Output, EventEmitter, ElementRef, AfterViewInit, Pipe, PipeTransform, Directive } from '@angular/core';\r\nimport { SafeResourceUrl, DomSanitizer } from '@angular/platform-browser';\r\nimport { CommonModule }       from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'c-item',\r\n  template: ``\r\n})\r\n\r\nexport class Item { \r\n\r\n    @ContentChild(TemplateRef, {static: true}) template: TemplateRef<any>\r\n    constructor() {   \r\n    }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'c-badge',\r\n  template: ``\r\n})\r\n\r\nexport class Badge { \r\n\r\n    @ContentChild(TemplateRef, {static: true}) template: TemplateRef<any>\r\n    constructor() {   \r\n    }\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'c-search',\r\n  template: ``\r\n})\r\n\r\nexport class Search { \r\n\r\n    @ContentChild(TemplateRef, {static: true}) template: TemplateRef<any>\r\n    constructor() {   \r\n    }\r\n\r\n}\r\n@Component({\r\n  selector: 'c-templateRenderer',\r\n  template: ``\r\n})\r\n\r\nexport class TemplateRenderer implements OnInit, OnDestroy { \r\n\r\n    @Input() data: any\r\n    @Input() item: any\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {   \r\n    }\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.data.template, {\r\n            '\\$implicit': this.data,\r\n            'item':this.item\r\n        });\r\n    }\r\n\t\r\n    ngOnDestroy() {\r\n\t\tthis.view.destroy();\r\n\t}\r\n\r\n}\r\n\r\n@Component({\r\n  selector: 'c-icon',\r\n  template: `<svg *ngIf=\"name == 'remove'\" width=\"100%\" height=\"100%\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n                        viewBox=\"0 0 47.971 47.971\" style=\"enable-background:new 0 0 47.971 47.971;\" xml:space=\"preserve\">\r\n                        <g>\r\n                            <path d=\"M28.228,23.986L47.092,5.122c1.172-1.171,1.172-3.071,0-4.242c-1.172-1.172-3.07-1.172-4.242,0L23.986,19.744L5.121,0.88\r\n                                c-1.172-1.172-3.07-1.172-4.242,0c-1.172,1.171-1.172,3.071,0,4.242l18.865,18.864L0.879,42.85c-1.172,1.171-1.172,3.071,0,4.242\r\n                                C1.465,47.677,2.233,47.97,3,47.97s1.535-0.293,2.121-0.879l18.865-18.864L42.85,47.091c0.586,0.586,1.354,0.879,2.121,0.879\r\n                                s1.535-0.293,2.121-0.879c1.172-1.171,1.172-3.071,0-4.242L28.228,23.986z\"/>\r\n                        </g>\r\n                    </svg>\r\n            <svg *ngIf=\"name == 'angle-down'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 612 612\" style=\"enable-background:new 0 0 612 612;\" xml:space=\"preserve\">\r\n<g>\r\n\t<g id=\"_x31_0_34_\">\r\n\t\t<g>\r\n\t\t\t<path d=\"M604.501,134.782c-9.999-10.05-26.222-10.05-36.221,0L306.014,422.558L43.721,134.782\r\n\t\t\t\tc-9.999-10.05-26.223-10.05-36.222,0s-9.999,26.35,0,36.399l279.103,306.241c5.331,5.357,12.422,7.652,19.386,7.296\r\n\t\t\t\tc6.988,0.356,14.055-1.939,19.386-7.296l279.128-306.268C614.5,161.106,614.5,144.832,604.501,134.782z\"/>\r\n\t\t</g>\r\n\t</g>\r\n</g>\r\n</svg>\r\n<svg *ngIf=\"name == 'angle-up'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 612 612\" style=\"enable-background:new 0 0 612 612;\" xml:space=\"preserve\">\r\n<g>\r\n\t<g id=\"_x39__30_\">\r\n\t\t<g>\r\n\t\t\t<path d=\"M604.501,440.509L325.398,134.956c-5.331-5.357-12.423-7.627-19.386-7.27c-6.989-0.357-14.056,1.913-19.387,7.27\r\n\t\t\t\tL7.499,440.509c-9.999,10.024-9.999,26.298,0,36.323s26.223,10.024,36.222,0l262.293-287.164L568.28,476.832\r\n\t\t\t\tc9.999,10.024,26.222,10.024,36.221,0C614.5,466.809,614.5,450.534,604.501,440.509z\"/>\r\n\t\t</g>\r\n\t</g>\r\n</g>\r\n\r\n</svg>\r\n<svg *ngIf=\"name == 'search'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"100%\" height=\"100%\" viewBox=\"0 0 615.52 615.52\" style=\"enable-background:new 0 0 615.52 615.52;\"\r\n\t xml:space=\"preserve\">\r\n<g>\r\n\t<g>\r\n\t\t<g id=\"Search__x28_and_thou_shall_find_x29_\">\r\n\t\t\t<g>\r\n\t\t\t\t<path d=\"M602.531,549.736l-184.31-185.368c26.679-37.72,42.528-83.729,42.528-133.548C460.75,103.35,357.997,0,231.258,0\r\n\t\t\t\t\tC104.518,0,1.765,103.35,1.765,230.82c0,127.47,102.753,230.82,229.493,230.82c49.53,0,95.271-15.944,132.78-42.777\r\n\t\t\t\t\tl184.31,185.366c7.482,7.521,17.292,11.291,27.102,11.291c9.812,0,19.62-3.77,27.083-11.291\r\n\t\t\t\t\tC617.496,589.188,617.496,564.777,602.531,549.736z M355.9,319.763l-15.042,21.273L319.7,356.174\r\n\t\t\t\t\tc-26.083,18.658-56.667,28.526-88.442,28.526c-84.365,0-152.995-69.035-152.995-153.88c0-84.846,68.63-153.88,152.995-153.88\r\n\t\t\t\t\ts152.996,69.034,152.996,153.88C384.271,262.769,374.462,293.526,355.9,319.763z\"/>\r\n\t\t\t</g>\r\n\t\t</g>\r\n\t</g>\r\n</g>\r\n\r\n</svg>\r\n<svg *ngIf=\"name == 'clear'\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 51.976 51.976\" style=\"enable-background:new 0 0 51.976 51.976;\" xml:space=\"preserve\">\r\n<g>\r\n\t<path d=\"M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0\r\n\t\tC54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778\r\n\t\tc-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828\r\n\t\tc0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828\r\n\t\tl-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z\"/>\r\n</g>\r\n</svg>`,\r\n  encapsulation: ViewEncapsulation.None,\r\n\r\n})\r\n\r\nexport class CIcon { \r\n\r\n    @Input() name:any;\r\n\r\n}","import {\r\n\tComponent,\r\n\tContentChild,\r\n\tElementRef,\r\n\tEventEmitter,\r\n\tInject,\r\n\tOptional,\r\n\tInput,\r\n\tNgModule,\r\n\tNgZone,\r\n\tOnChanges,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tOutput,\r\n\tRenderer2,\r\n\tViewChild,\r\n\tChangeDetectorRef,\r\n\tInjectionToken\r\n} from '@angular/core';\r\n\r\nimport { PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformServer } from '@angular/common';\r\n\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport * as tween from '@tweenjs/tween.js'\r\nimport { VirtualScrollerDefaultOptions } from './defaultoptions';\r\nimport { IPageInfo } from './ipageinfo';\r\nimport { IViewport } from './iviewport';\r\n\r\nimport { WrapGroupDimensions } from './wrapgroupdimensions';\r\nimport { WrapGroupDimension } from './wrapgroupdimension';\r\n\r\nimport { IDimensions } from './idimension';\r\n\r\n \r\n\r\n\r\n\r\nexport function VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY(): VirtualScrollerDefaultOptions {\r\n\treturn {\r\n\t\tscrollThrottlingTime: 0,\r\n\t\tscrollDebounceTime: 0,\r\n\t\tscrollAnimationTime: 750,\r\n\t\tcheckResizeInterval: 1000,\r\n\t\tresizeBypassRefreshThreshold: 5,\r\n\t\tmodifyOverflowStyleOfParentScroll: true,\r\n\t\tstripedTable: false\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Component({\r\n\tselector: 'virtual-scroller,[virtualScroller]',\r\n\texportAs: 'virtualScroller',\r\n\ttemplate: `\r\n    <div class=\"total-padding\" #invisiblePadding></div>\r\n    <div class=\"scrollable-content\" #content>\r\n      <ng-content></ng-content>\r\n    </div>\r\n  `,\r\n\thost: {\r\n\t\t'[class.horizontal]': \"horizontal\",\r\n\t\t'[class.vertical]': \"!horizontal\",\r\n\t\t'[class.selfScroll]': \"!parentScroll\"\r\n\t},\r\n\tstyles: [`\r\n    :host {\r\n      position: relative;\r\n\t  display: block;\r\n      -webkit-overflow-scrolling: touch;\r\n    }\r\n\t\r\n\t:host.horizontal.selfScroll {\r\n      overflow-y: visible;\r\n      overflow-x: auto;\r\n\t}\r\n\t:host.vertical.selfScroll {\r\n      overflow-y: auto;\r\n      overflow-x: visible;\r\n\t}\r\n\t\r\n    .scrollable-content {\r\n      top: 0;\r\n      left: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      max-width: 100vw;\r\n      max-height: 100vh;\r\n      position: absolute;\r\n    }\r\n\r\n\t.scrollable-content ::ng-deep > * {\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t:host.horizontal {\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t\r\n\t:host.horizontal .scrollable-content ::ng-deep > * {\r\n\t\tflex-shrink: 0;\r\n\t\tflex-grow: 0;\r\n\t\twhite-space: initial;\r\n\t}\r\n\t\r\n    .total-padding {\r\n      width: 1px;\r\n      opacity: 0;\r\n    }\r\n    \r\n    :host.horizontal .total-padding {\r\n      height: 100%;\r\n    }\r\n  `]\r\n})\r\nexport class VirtualScrollerComponent implements OnInit, OnChanges, OnDestroy {\r\n\tpublic viewPortItems: any[];\r\n\tpublic window = window;\r\n\r\n\tpublic get viewPortInfo(): IPageInfo {\r\n\t\tlet pageInfo: IViewport = this.previousViewPort || <any>{};\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex || 0,\r\n\t\t\tendIndex: pageInfo.endIndex || 0,\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition || 0,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition || 0,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition || 0,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer || 0,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer || 0\r\n\t\t};\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic executeRefreshOutsideAngularZone: boolean = false;\r\n\r\n\tprotected _enableUnequalChildrenSizes: boolean = false;\r\n\t@Input()\r\n\tpublic get enableUnequalChildrenSizes(): boolean {\r\n\t\treturn this._enableUnequalChildrenSizes;\r\n\t}\r\n\tpublic set enableUnequalChildrenSizes(value: boolean) {\r\n\t\tif (this._enableUnequalChildrenSizes === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._enableUnequalChildrenSizes = value;\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic useMarginInsteadOfTranslate: boolean = false;\r\n\r\n\t@Input()\r\n\tpublic modifyOverflowStyleOfParentScroll: boolean;\r\n\r\n\t@Input()\r\n\tpublic stripedTable: boolean;\r\n\r\n\t@Input()\r\n\tpublic scrollbarWidth: number;\r\n\r\n\t@Input()\r\n\tpublic scrollbarHeight: number;\r\n\r\n\t@Input()\r\n\tpublic childWidth: number;\r\n\r\n\t@Input()\r\n\tpublic childHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildWidth: number;\r\n\r\n\t@Input()\r\n\tpublic ssrChildHeight: number;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportWidth: number = 1920;\r\n\r\n\t@Input()\r\n\tpublic ssrViewportHeight: number = 1080;\r\n\r\n\tprotected _bufferAmount: number = 0;\r\n\t@Input()\r\n\tpublic get bufferAmount(): number {\r\n\t\tif (typeof (this._bufferAmount) === 'number' && this._bufferAmount >= 0) {\r\n\t\t\treturn this._bufferAmount;\r\n\t\t} else {\r\n\t\t\treturn this.enableUnequalChildrenSizes ? 5 : 0;\t\r\n\t\t}\r\n\t}\r\n\tpublic set bufferAmount(value: number) {\r\n\t\tthis._bufferAmount = value;\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic scrollAnimationTime: number;\r\n\r\n\t@Input()\r\n\tpublic resizeBypassRefreshThreshold: number;\r\n\r\n\tprotected _scrollThrottlingTime: number;\r\n\t@Input()\r\n\tpublic get scrollThrottlingTime(): number {\r\n\t\treturn this._scrollThrottlingTime;\r\n\t}\r\n\tpublic set scrollThrottlingTime(value: number) {\r\n\t\tthis._scrollThrottlingTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected _scrollDebounceTime: number;\r\n\t@Input()\r\n\tpublic get scrollDebounceTime(): number {\r\n\t\treturn this._scrollDebounceTime;\r\n\t}\r\n\tpublic set scrollDebounceTime(value: number) {\r\n\t\tthis._scrollDebounceTime = value;\r\n\t\tthis.updateOnScrollFunction();\r\n\t}\r\n\r\n\tprotected onScroll: () => void;\r\n\tprotected updateOnScrollFunction(): void {\r\n\t\tif (this.scrollDebounceTime) {\r\n\t\t\tthis.onScroll = <any>this.debounce(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollDebounceTime);\r\n\t\t}\r\n\t\telse if (this.scrollThrottlingTime) {\r\n\t\t\tthis.onScroll = <any>this.throttleTrailing(() => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}, this.scrollThrottlingTime);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.onScroll = () => {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tprotected checkScrollElementResizedTimer: number;\r\n\tprotected _checkResizeInterval: number;\r\n\t@Input()\r\n\tpublic get checkResizeInterval(): number {\r\n\t\treturn this._checkResizeInterval;\r\n\t}\r\n\tpublic set checkResizeInterval(value: number) {\r\n\t\tif (this._checkResizeInterval === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._checkResizeInterval = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tprotected _items: any[] = [];\r\n\t@Input()\r\n\tpublic get items(): any[] {\r\n\t\treturn this._items;\r\n\t}\r\n\tpublic set items(value: any[]) {\r\n\t\tif (value === this._items) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._items = value || [];\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\t@Input()\r\n\tpublic compareItems: (item1: any, item2: any) => boolean = (item1: any, item2: any) => item1 === item2;\r\n\r\n\tprotected _horizontal: boolean;\r\n\t@Input()\r\n\tpublic get horizontal(): boolean {\r\n\t\treturn this._horizontal;\r\n\t}\r\n\tpublic set horizontal(value: boolean) {\r\n\t\tthis._horizontal = value;\r\n\t\tthis.updateDirection();\r\n\t}\r\n\r\n\tprotected revertParentOverscroll(): void {\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (scrollElement && this.oldParentScrollOverflow) {\r\n\t\t\tscrollElement.style['overflow-y'] = this.oldParentScrollOverflow.y;\r\n\t\t\tscrollElement.style['overflow-x'] = this.oldParentScrollOverflow.x;\r\n\t\t}\r\n\r\n\t\tthis.oldParentScrollOverflow = undefined;\r\n\t}\r\n\r\n\tprotected oldParentScrollOverflow: { x: string, y: string };\r\n\tprotected _parentScroll: Element | Window;\r\n\t@Input()\r\n\tpublic get parentScroll(): Element | Window {\r\n\t\treturn this._parentScroll;\r\n\t}\r\n\tpublic set parentScroll(value: Element | Window) {\r\n\t\tif (this._parentScroll === value) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.revertParentOverscroll();\r\n\t\tthis._parentScroll = value;\r\n\t\tthis.addScrollEventHandlers();\r\n\r\n\t\tconst scrollElement = this.getScrollElement();\r\n\t\tif (this.modifyOverflowStyleOfParentScroll && scrollElement !== this.element.nativeElement) {\r\n\t\t\tthis.oldParentScrollOverflow = { x: scrollElement.style['overflow-x'], y: scrollElement.style['overflow-y'] };\r\n\t\t\tscrollElement.style['overflow-y'] = this.horizontal ? 'visible' : 'auto';\r\n\t\t\tscrollElement.style['overflow-x'] = this.horizontal ? 'auto' : 'visible';\r\n\t\t}\r\n\t}\r\n\r\n\t@Output()\r\n\tpublic vsUpdate: EventEmitter<any[]> = new EventEmitter<any[]>();\r\n\r\n\t@Output()\r\n\tpublic vsChange: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsStart: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@Output()\r\n\tpublic vsEnd: EventEmitter<IPageInfo> = new EventEmitter<IPageInfo>();\r\n\r\n\t@ViewChild('content', { read: ElementRef, static: false })\r\n\tprotected contentElementRef: ElementRef;\r\n\r\n\t@ViewChild('invisiblePadding', { read: ElementRef, static: false })\r\n\tprotected invisiblePaddingElementRef: ElementRef;\r\n\r\n\t@ContentChild('header', { read: ElementRef, static: false })\r\n\tprotected headerElementRef: ElementRef;\r\n\r\n\t@ContentChild('container', { read: ElementRef, static: false })\r\n\tprotected containerElementRef: ElementRef;\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis.addScrollEventHandlers();\r\n\t}\r\n\r\n\tpublic ngOnDestroy(): void {\r\n\t\tthis.removeScrollEventHandlers();\r\n\t\tthis.revertParentOverscroll();\r\n\t}\r\n\r\n\tpublic ngOnChanges(changes: any): void {\r\n\t\tlet indexLengthChanged = this.cachedItemsLength !== this.items.length;\r\n\t\tthis.cachedItemsLength = this.items.length;\r\n\r\n\t\tconst firstRun: boolean = !changes.items || !changes.items.previousValue || changes.items.previousValue.length === 0;\r\n\t\tthis.refresh_internal(indexLengthChanged || firstRun);\r\n\t}\r\n\r\n\t\r\n\tpublic ngDoCheck(): void {\r\n\t\tif (this.cachedItemsLength !== this.items.length) {\r\n\t\t\tthis.cachedItemsLength = this.items.length;\r\n\t\t\tthis.refresh_internal(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.previousViewPort && this.viewPortItems && this.viewPortItems.length > 0) {\r\n\t\t\tlet itemsArrayChanged = false;\r\n\t\t\tfor (let i = 0; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\tif (!this.compareItems(this.items[this.previousViewPort.startIndexWithBuffer + i], this.viewPortItems[i])) {\r\n\t\t\t\t\titemsArrayChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (itemsArrayChanged) {\r\n\t\t\t\tthis.refresh_internal(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic refresh(): void {\r\n\t\tthis.refresh_internal(true);\r\n\t}\r\n\r\n\tpublic invalidateAllCachedMeasurements(): void {\r\n\t\tthis.wrapGroupDimensions = {\r\n\t\t\tmaxChildSizePerWrapGroup: [],\r\n\t\t\tnumberOfKnownWrapGroupChildSizes: 0,\r\n\t\t\tsumOfKnownWrapGroupChildWidths: 0,\r\n\t\t\tsumOfKnownWrapGroupChildHeights: 0\r\n\t\t};\r\n\r\n\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\tthis.minMeasuredChildHeight = undefined;\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementForItem(item: any): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet index = this.items && this.items.indexOf(item);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis.invalidateCachedMeasurementAtIndex(index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic invalidateCachedMeasurementAtIndex(index: number): void {\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet cachedMeasurement = this.wrapGroupDimensions.maxChildSizePerWrapGroup[index];\r\n\t\t\tif (cachedMeasurement) {\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[index] = undefined;\r\n\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= cachedMeasurement.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= cachedMeasurement.childHeight || 0;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.minMeasuredChildWidth = undefined;\r\n\t\t\tthis.minMeasuredChildHeight = undefined;\r\n\t\t}\r\n\r\n\t\tthis.refresh_internal(false);\r\n\t}\r\n\r\n\tpublic scrollInto(item: any, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet index: number = this.items.indexOf(item);\r\n\t\tif (index === -1) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.scrollToIndex(index, alignToBeginning, additionalOffset, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToIndex(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tlet maxRetries: number = 5;\r\n\r\n\t\tlet retryIfNeeded = () => {\r\n\t\t\t--maxRetries;\r\n\t\t\tif (maxRetries <= 0) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet dimensions = this.calculateDimensions();\r\n\t\t\tlet desiredStartIndex = Math.min(Math.max(index, 0), dimensions.itemCount - 1);\r\n\t\t\tif (this.previousViewPort.startIndex === desiredStartIndex) {\r\n\t\t\t\tif (animationCompletedCallback) {\r\n\t\t\t\t\tanimationCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, 0, retryIfNeeded);\r\n\t\t};\r\n\r\n\t\tthis.scrollToIndex_internal(index, alignToBeginning, additionalOffset, animationMilliseconds, retryIfNeeded);\r\n\t}\r\n\r\n\tprotected scrollToIndex_internal(index: number, alignToBeginning: boolean = true, additionalOffset: number = 0, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet scroll = this.calculatePadding(index, dimensions) + additionalOffset;\r\n\t\tif (!alignToBeginning) {\r\n\t\t\tscroll -= dimensions.wrapGroupsPerPage * dimensions[this._childScrollDim];\r\n\t\t}\r\n\r\n\t\tthis.scrollToPosition(scroll, animationMilliseconds, animationCompletedCallback);\r\n\t}\r\n\r\n\tpublic scrollToPosition(scrollPosition: number, animationMilliseconds: number = undefined, animationCompletedCallback: () => void = undefined): void {\r\n\t\tscrollPosition += this.getElementsOffset();\r\n\r\n\t\tanimationMilliseconds = animationMilliseconds === undefined ? this.scrollAnimationTime : animationMilliseconds;\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tlet animationRequest: number;\r\n\r\n\t\tif (this.currentTween) {\r\n\t\t\tthis.currentTween.stop();\r\n\t\t\tthis.currentTween = undefined;\r\n\t\t}\r\n\r\n\t\tif (!animationMilliseconds) {\r\n\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, scrollPosition);\r\n\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tweenConfigObj = { scrollPosition: scrollElement[this._scrollType] };\r\n\r\n\t\tlet newTween = new tween.Tween(tweenConfigObj)\r\n\t\t\t.to({ scrollPosition }, animationMilliseconds)\r\n\t\t\t.easing(tween.Easing.Quadratic.Out)\r\n\t\t\t.onUpdate((data) => {\r\n\t\t\t\tif (isNaN(data.scrollPosition)) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.renderer.setProperty(scrollElement, this._scrollType, data.scrollPosition);\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t})\r\n\t\t\t.onStop(() => {\r\n\t\t\t\tcancelAnimationFrame(animationRequest);\r\n\t\t\t})\r\n\t\t\t.start();\r\n\r\n\t\tconst animate = (time?: number) => {\r\n\t\t\tif (!newTween[\"isPlaying\"]()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnewTween.update(time);\r\n\t\t\tif (tweenConfigObj.scrollPosition === scrollPosition) {\r\n\t\t\t\tthis.refresh_internal(false, animationCompletedCallback);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\t\tanimationRequest = requestAnimationFrame(animate);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tanimate();\r\n\t\tthis.currentTween = newTween;\r\n\t}\r\n\r\n\tprotected isAngularUniversalSSR: boolean;\r\n\r\n\tconstructor(protected readonly element: ElementRef,\r\n\t\tprotected readonly renderer: Renderer2,\r\n\t\tprotected readonly zone: NgZone,\r\n\t\tprotected changeDetectorRef: ChangeDetectorRef,\r\n\t\t@Inject(PLATFORM_ID) platformId: Object,\r\n\t\t@Optional() @Inject('virtual-scroller-default-options')\r\n\t\toptions: VirtualScrollerDefaultOptions) {\r\n\t\t\t\r\n\t\tthis.isAngularUniversalSSR = isPlatformServer(platformId);\r\n\r\n\t\tthis.scrollThrottlingTime = options.scrollThrottlingTime;\r\n\t\tthis.scrollDebounceTime = options.scrollDebounceTime;\r\n\t\tthis.scrollAnimationTime = options.scrollAnimationTime;\r\n\t\tthis.scrollbarWidth = options.scrollbarWidth;\r\n\t\tthis.scrollbarHeight = options.scrollbarHeight;\r\n\t\tthis.checkResizeInterval = options.checkResizeInterval;\r\n\t\tthis.resizeBypassRefreshThreshold = options.resizeBypassRefreshThreshold;\r\n\t\tthis.modifyOverflowStyleOfParentScroll = options.modifyOverflowStyleOfParentScroll;\r\n\t\tthis.stripedTable = options.stripedTable;\r\n\r\n\t\tthis.horizontal = false;\r\n\t\tthis.resetWrapGroupDimensions();\r\n\t}\r\n\t\r\n\tprotected getElementSize(element: HTMLElement) : ClientRect {\r\n\t\tlet result = element.getBoundingClientRect();\r\n\t\tlet styles = getComputedStyle(element);\r\n\t\tlet marginTop = parseInt(styles['margin-top'], 10) || 0;\r\n\t\tlet marginBottom = parseInt(styles['margin-bottom'], 10) || 0;\r\n\t\tlet marginLeft = parseInt(styles['margin-left'], 10) || 0;\r\n\t\tlet marginRight = parseInt(styles['margin-right'], 10) || 0;\r\n\t\t\r\n\t\treturn {\r\n\t\t\ttop: result.top + marginTop,\r\n\t\t\tbottom: result.bottom + marginBottom,\r\n\t\t\tleft: result.left + marginLeft,\r\n\t\t\tright: result.right + marginRight,\r\n\t\t\twidth: result.width + marginLeft + marginRight,\r\n\t\t\theight: result.height + marginTop + marginBottom\r\n\t\t};\r\n\t}\r\n\r\n\tprotected previousScrollBoundingRect: ClientRect;\r\n\tprotected checkScrollElementResized(): void {\r\n\t\tlet boundingRect = this.getElementSize(this.getScrollElement());\r\n\r\n\t\tlet sizeChanged: boolean;\r\n\t\tif (!this.previousScrollBoundingRect) {\r\n\t\t\tsizeChanged = true;\r\n\t\t} else {\r\n\t\t\tlet widthChange = Math.abs(boundingRect.width - this.previousScrollBoundingRect.width);\r\n\t\t\tlet heightChange = Math.abs(boundingRect.height - this.previousScrollBoundingRect.height);\r\n\t\t\tsizeChanged = widthChange > this.resizeBypassRefreshThreshold || heightChange > this.resizeBypassRefreshThreshold;\r\n\t\t}\r\n\r\n\t\tif (sizeChanged) {\r\n\t\t\tthis.previousScrollBoundingRect = boundingRect;\r\n\t\t\tif (boundingRect.width > 0 && boundingRect.height > 0) {\r\n\t\t\t\tthis.refresh_internal(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected _invisiblePaddingProperty;\r\n\tprotected _offsetType;\r\n\tprotected _scrollType;\r\n\tprotected _pageOffsetType;\r\n\tprotected _childScrollDim;\r\n\tprotected _translateDir;\r\n\tprotected _marginDir;\r\n\tprotected updateDirection(): void {\r\n\t\tif (this.horizontal) {\r\n\t\t\tthis._invisiblePaddingProperty = 'width';\r\n\t\t\tthis._offsetType = 'offsetLeft';\r\n\t\t\tthis._pageOffsetType = 'pageXOffset';\r\n\t\t\tthis._childScrollDim = 'childWidth';\r\n\t\t\tthis._marginDir = 'margin-left';\r\n\t\t\tthis._translateDir = 'translateX';\r\n\t\t\tthis._scrollType = 'scrollLeft';\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis._invisiblePaddingProperty = 'height';\r\n\t\t\tthis._offsetType = 'offsetTop';\r\n\t\t\tthis._pageOffsetType = 'pageYOffset';\r\n\t\t\tthis._childScrollDim = 'childHeight';\r\n\t\t\tthis._marginDir = 'margin-top';\r\n\t\t\tthis._translateDir = 'translateY';\r\n\t\t\tthis._scrollType = 'scrollTop';\r\n\t\t}\r\n\t}\r\n\r\n\tprotected debounce(func: Function, wait: number): Function {\r\n\t\tconst throttled = this.throttleTrailing(func, wait);\r\n\t\tconst result = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t\tthrottled.apply(this, arguments);\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tthrottled['cancel']();\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected throttleTrailing(func: Function, wait: number): Function {\r\n\t\tlet timeout = undefined;\r\n\t\tlet _arguments = arguments;\r\n\t\tconst result = function () {\r\n\t\t\tconst _this = this;\r\n\t\t\t_arguments = arguments\r\n\r\n\t\t\tif (timeout) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (wait <= 0) {\r\n\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t} else {\r\n\t\t\t\ttimeout = setTimeout(function () {\r\n\t\t\t\t\ttimeout = undefined;\r\n\t\t\t\t\tfunc.apply(_this, _arguments);\r\n\t\t\t\t}, wait);\r\n\t\t\t}\r\n\t\t};\r\n\t\tresult['cancel'] = function () {\r\n\t\t\tif (timeout) {\r\n\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\ttimeout = undefined;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatedScrollbarWidth: number = 0;\r\n\tprotected calculatedScrollbarHeight: number = 0;\r\n\r\n\tprotected padding: number = 0;\r\n\tprotected previousViewPort: IViewport = <any>{};\r\n\tprotected currentTween: tween.Tween;\r\n\tprotected cachedItemsLength: number;\r\n\r\n\tprotected disposeScrollHandler: () => void | undefined;\r\n\tprotected disposeResizeHandler: () => void | undefined;\r\n\r\n\tprotected refresh_internal(itemsArrayModified: boolean, refreshCompletedCallback: () => void = undefined, maxRunTimes: number = 2): void {\r\n\t\t//note: maxRunTimes is to force it to keep recalculating if the previous iteration caused a re-render (different sliced items in viewport or scrollPosition changed).\r\n\t\t//The default of 2x max will probably be accurate enough without causing too large a performance bottleneck\r\n\t\t//The code would typically quit out on the 2nd iteration anyways. The main time it'd think more than 2 runs would be necessary would be for vastly different sized child items or if this is the 1st time the items array was initialized.\r\n\t\t//Without maxRunTimes, If the user is actively scrolling this code would become an infinite loop until they stopped scrolling. This would be okay, except each scroll event would start an additional infinte loop. We want to short-circuit it to prevent this.\r\n\r\n\t\tif (itemsArrayModified && this.previousViewPort && this.previousViewPort.scrollStartPosition > 0) {\r\n\t\t//if items were prepended, scroll forward to keep same items visible\r\n\t\t\tlet oldViewPort = this.previousViewPort;\r\n\t\t\tlet oldViewPortItems = this.viewPortItems;\r\n\t\t\t\r\n\t\t\tlet oldRefreshCompletedCallback = refreshCompletedCallback;\r\n\t\t\trefreshCompletedCallback = () => {\r\n\t\t\t\tlet scrollLengthDelta = this.previousViewPort.scrollLength - oldViewPort.scrollLength;\r\n\t\t\t\tif (scrollLengthDelta > 0 && this.viewPortItems) {\r\n\t\t\t\t\tlet oldStartItem = oldViewPortItems[0];\r\n\t\t\t\t\tlet oldStartItemIndex = this.items.findIndex(x => this.compareItems(oldStartItem, x));\r\n\t\t\t\t\tif (oldStartItemIndex > this.previousViewPort.startIndexWithBuffer) {\r\n\t\t\t\t\t\tlet itemOrderChanged = false;\r\n\t\t\t\t\t\tfor (let i = 1; i < this.viewPortItems.length; ++i) {\r\n\t\t\t\t\t\t\tif (!this.compareItems(this.items[oldStartItemIndex + i], oldViewPortItems[i])) {\r\n\t\t\t\t\t\t\t\titemOrderChanged = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!itemOrderChanged) {\r\n\t\t\t\t\t\t\tthis.scrollToPosition(this.previousViewPort.scrollStartPosition + scrollLengthDelta , 0, oldRefreshCompletedCallback);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (oldRefreshCompletedCallback) {\r\n\t\t\t\t\toldRefreshCompletedCallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\t\t\t\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\trequestAnimationFrame(() => {\r\n\r\n\t\t\t\tif (itemsArrayModified) {\r\n\t\t\t\t\tthis.resetWrapGroupDimensions();\r\n\t\t\t\t}\r\n\t\t\t\tlet viewport = this.calculateViewport();\r\n\r\n\t\t\t\tlet startChanged = itemsArrayModified || viewport.startIndex !== this.previousViewPort.startIndex;\r\n\t\t\t\tlet endChanged = itemsArrayModified || viewport.endIndex !== this.previousViewPort.endIndex;\r\n\t\t\t\tlet scrollLengthChanged = viewport.scrollLength !== this.previousViewPort.scrollLength;\r\n\t\t\t\tlet paddingChanged = viewport.padding !== this.previousViewPort.padding;\r\n\t\t\t\tlet scrollPositionChanged = viewport.scrollStartPosition !== this.previousViewPort.scrollStartPosition || viewport.scrollEndPosition !== this.previousViewPort.scrollEndPosition || viewport.maxScrollPosition !== this.previousViewPort.maxScrollPosition;\r\n\r\n\t\t\t\tthis.previousViewPort = viewport;\r\n\r\n\t\t\t\tif (scrollLengthChanged) {\r\n\t\t\t\t\tthis.renderer.setStyle(this.invisiblePaddingElementRef.nativeElement, this._invisiblePaddingProperty, `${viewport.scrollLength}px`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (paddingChanged) {\r\n\t\t\t\t\tif (this.useMarginInsteadOfTranslate) {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, this._marginDir, `${viewport.padding}px`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'transform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t\tthis.renderer.setStyle(this.contentElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${viewport.padding}px)`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.headerElementRef) {\r\n\t\t\t\t\tlet scrollPosition = this.getScrollElement()[this._scrollType];\r\n\t\t\t\t\tlet containerOffset = this.getElementsOffset();\r\n\t\t\t\t\tlet offset = Math.max(scrollPosition - viewport.padding - containerOffset + this.headerElementRef.nativeElement.clientHeight, 0);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'transform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t\tthis.renderer.setStyle(this.headerElementRef.nativeElement, 'webkitTransform', `${this._translateDir}(${offset}px)`);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst changeEventArg: IPageInfo = (startChanged || endChanged) ? {\r\n\t\t\t\t\tstartIndex: viewport.startIndex,\r\n\t\t\t\t\tendIndex: viewport.endIndex,\r\n\t\t\t\t\tscrollStartPosition: viewport.scrollStartPosition,\r\n\t\t\t\t\tscrollEndPosition: viewport.scrollEndPosition,\r\n\t\t\t\t\tstartIndexWithBuffer: viewport.startIndexWithBuffer,\r\n\t\t\t\t\tendIndexWithBuffer: viewport.endIndexWithBuffer,\r\n\t\t\t\t\tmaxScrollPosition: viewport.maxScrollPosition\r\n\t\t\t\t} : undefined;\r\n\r\n\r\n\t\t\t\tif (startChanged || endChanged || scrollPositionChanged) {\r\n\t\t\t\t\tconst handleChanged = () => {\r\n\t\t\t\t\t\t// update the scroll list to trigger re-render of components in viewport\r\n\t\t\t\t\t\tthis.viewPortItems = viewport.startIndexWithBuffer >= 0 && viewport.endIndexWithBuffer >= 0 ? this.items.slice(viewport.startIndexWithBuffer, viewport.endIndexWithBuffer + 1) : [];\r\n\t\t\t\t\t\tthis.vsUpdate.emit(this.viewPortItems);\r\n\r\n\t\t\t\t\t\tif (startChanged) {\r\n\t\t\t\t\t\t\tthis.vsStart.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (endChanged) {\r\n\t\t\t\t\t\t\tthis.vsEnd.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (startChanged || endChanged) {\r\n\t\t\t\t\t\t\tthis.changeDetectorRef.markForCheck();\r\n\t\t\t\t\t\t\tthis.vsChange.emit(changeEventArg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (maxRunTimes > 0) {\r\n\t\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\r\n\t\t\t\t\tif (this.executeRefreshOutsideAngularZone) {\r\n\t\t\t\t\t\thandleChanged();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.zone.run(handleChanged);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (maxRunTimes > 0 && (scrollLengthChanged || paddingChanged)) {\r\n\t\t\t\t\t\tthis.refresh_internal(false, refreshCompletedCallback, maxRunTimes - 1);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (refreshCompletedCallback) {\r\n\t\t\t\t\t\trefreshCompletedCallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprotected getScrollElement(): HTMLElement {\r\n\t\treturn this.parentScroll instanceof Window ? document.scrollingElement || document.documentElement || document.body : this.parentScroll || this.element.nativeElement;\r\n\t}\r\n\r\n\tprotected addScrollEventHandlers(): void {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tthis.removeScrollEventHandlers();\r\n\r\n\t\tthis.zone.runOutsideAngular(() => {\r\n\t\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen('window', 'scroll', this.onScroll);\r\n\t\t\t\tthis.disposeResizeHandler = this.renderer.listen('window', 'resize', this.onScroll);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.disposeScrollHandler = this.renderer.listen(scrollElement, 'scroll', this.onScroll);\r\n\t\t\t\tif (this._checkResizeInterval > 0) {\r\n\t\t\t\t\tthis.checkScrollElementResizedTimer = <any>setInterval(() => { this.checkScrollElementResized(); }, this._checkResizeInterval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprotected removeScrollEventHandlers(): void {\r\n\t\tif (this.checkScrollElementResizedTimer) {\r\n\t\t\tclearInterval(this.checkScrollElementResizedTimer);\r\n\t\t}\r\n\r\n\t\tif (this.disposeScrollHandler) {\r\n\t\t\tthis.disposeScrollHandler();\r\n\t\t\tthis.disposeScrollHandler = undefined;\r\n\t\t}\r\n\r\n\t\tif (this.disposeResizeHandler) {\r\n\t\t\tthis.disposeResizeHandler();\r\n\t\t\tthis.disposeResizeHandler = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected getElementsOffset(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet offset = 0;\r\n\r\n\t\tif (this.containerElementRef && this.containerElementRef.nativeElement) {\r\n\t\t\toffset += this.containerElementRef.nativeElement[this._offsetType];\r\n\t\t}\r\n\r\n\t\tif (this.parentScroll) {\r\n\t\t\tlet scrollElement = this.getScrollElement();\r\n\t\t\tlet elementClientRect = this.getElementSize(this.element.nativeElement);\r\n\t\t\tlet scrollClientRect = this.getElementSize(scrollElement);\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\toffset += elementClientRect.left - scrollClientRect.left;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\toffset += elementClientRect.top - scrollClientRect.top;\r\n\t\t\t}\r\n\r\n\t\t\tif (!(this.parentScroll instanceof Window)) {\r\n\t\t\t\toffset += scrollElement[this._scrollType];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn offset;\r\n\t}\r\n\r\n\tprotected countItemsPerWrapGroup(): number {\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\treturn Math.round(this.horizontal ? this.ssrViewportHeight / this.ssrChildHeight : this.ssrViewportWidth / this.ssrChildWidth);\r\n\t\t}\r\n\r\n\t\tlet propertyName = this.horizontal ? 'offsetLeft' : 'offsetTop';\r\n\t\tlet children = ((this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement).children;\r\n\r\n\t\tlet childrenLength = children ? children.length : 0;\r\n\t\tif (childrenLength === 0) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\r\n\t\tlet firstOffset = children[0][propertyName];\r\n\t\tlet result = 1;\r\n\t\twhile (result < childrenLength && firstOffset === children[result][propertyName]) {\r\n\t\t\t++result;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected getScrollStartPosition(): number {\r\n\t\tlet windowScrollValue = undefined;\r\n\t\tif (this.parentScroll instanceof Window) {\r\n\t\t\twindowScrollValue = window[this._pageOffsetType];\r\n\t\t}\r\n\r\n\t\treturn windowScrollValue || this.getScrollElement()[this._scrollType] || 0;\r\n\t}\r\n\r\n\tprotected minMeasuredChildWidth: number;\r\n\tprotected minMeasuredChildHeight: number;\r\n\r\n\tprotected wrapGroupDimensions: WrapGroupDimensions;\r\n\r\n\tprotected resetWrapGroupDimensions(): void {\r\n\t\tconst oldWrapGroupDimensions = this.wrapGroupDimensions;\r\n\t\tthis.invalidateAllCachedMeasurements();\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes || !oldWrapGroupDimensions || oldWrapGroupDimensions.numberOfKnownWrapGroupChildSizes === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst itemsPerWrapGroup: number = this.countItemsPerWrapGroup();\r\n\t\tfor (let wrapGroupIndex = 0; wrapGroupIndex < oldWrapGroupDimensions.maxChildSizePerWrapGroup.length; ++wrapGroupIndex) {\r\n\t\t\tconst oldWrapGroupDimension: WrapGroupDimension = oldWrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\tif (!oldWrapGroupDimension || !oldWrapGroupDimension.items || !oldWrapGroupDimension.items.length) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (oldWrapGroupDimension.items.length !== itemsPerWrapGroup) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet itemsChanged = false;\r\n\t\t\tlet arrayStartIndex = itemsPerWrapGroup * wrapGroupIndex;\r\n\t\t\tfor (let i = 0; i < itemsPerWrapGroup; ++i) {\r\n\t\t\t\tif (!this.compareItems(oldWrapGroupDimension.items[i], this.items[arrayStartIndex + i])) {\r\n\t\t\t\t\titemsChanged = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!itemsChanged) {\r\n\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += oldWrapGroupDimension.childWidth || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += oldWrapGroupDimension.childHeight || 0;\r\n\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = oldWrapGroupDimension;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprotected calculateDimensions(): IDimensions {\r\n\t\tlet scrollElement = this.getScrollElement();\r\n\r\n\t\tconst maxCalculatedScrollBarSize: number = 25; // Note: Formula to auto-calculate doesn't work for ParentScroll, so we default to this if not set by consuming application\r\n\t\tthis.calculatedScrollbarHeight = Math.max(Math.min(scrollElement.offsetHeight - scrollElement.clientHeight, maxCalculatedScrollBarSize), this.calculatedScrollbarHeight);\r\n\t\tthis.calculatedScrollbarWidth = Math.max(Math.min(scrollElement.offsetWidth - scrollElement.clientWidth, maxCalculatedScrollBarSize), this.calculatedScrollbarWidth);\r\n\r\n\t\tlet viewportWidth = scrollElement.offsetWidth - (this.scrollbarWidth || this.calculatedScrollbarWidth || (this.horizontal ? 0 : maxCalculatedScrollBarSize));\r\n\t\tlet viewportHeight = scrollElement.offsetHeight - (this.scrollbarHeight || this.calculatedScrollbarHeight || (this.horizontal ? maxCalculatedScrollBarSize : 0));\r\n\r\n\t\tlet content = (this.containerElementRef && this.containerElementRef.nativeElement) || this.contentElementRef.nativeElement;\r\n\r\n\t\tlet itemsPerWrapGroup = this.countItemsPerWrapGroup();\r\n\t\tlet wrapGroupsPerPage;\r\n\r\n\t\tlet defaultChildWidth;\r\n\t\tlet defaultChildHeight;\r\n\r\n\t\tif (this.isAngularUniversalSSR) {\r\n\t\t\tviewportWidth = this.ssrViewportWidth;\r\n\t\t\tviewportHeight = this.ssrViewportHeight;\r\n\t\t\tdefaultChildWidth = this.ssrChildWidth;\r\n\t\t\tdefaultChildHeight = this.ssrChildHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t}\r\n\t\telse if (!this.enableUnequalChildrenSizes) {\r\n\t\t\tif (content.children.length > 0) {\r\n\t\t\t\tif (!this.childWidth || !this.childHeight) {\r\n\t\t\t\t\tif (!this.minMeasuredChildWidth && viewportWidth > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildWidth = viewportWidth;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!this.minMeasuredChildHeight && viewportHeight > 0) {\r\n\t\t\t\t\t\tthis.minMeasuredChildHeight = viewportHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet child = content.children[0];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\t\t\t\tthis.minMeasuredChildWidth = Math.min(this.minMeasuredChildWidth, clientRect.width);\r\n\t\t\t\tthis.minMeasuredChildHeight = Math.min(this.minMeasuredChildHeight, clientRect.height);\r\n\t\t\t}\r\n\r\n\t\t\tdefaultChildWidth = this.childWidth || this.minMeasuredChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || this.minMeasuredChildHeight || viewportHeight;\r\n\t\t\tlet itemsPerRow = Math.max(Math.ceil(viewportWidth / defaultChildWidth), 1);\r\n\t\t\tlet itemsPerCol = Math.max(Math.ceil(viewportHeight / defaultChildHeight), 1);\r\n\t\t\twrapGroupsPerPage = this.horizontal ? itemsPerRow : itemsPerCol;\r\n\t\t} else {\r\n\t\t\tlet scrollOffset = scrollElement[this._scrollType] - (this.previousViewPort ? this.previousViewPort.padding : 0);\r\n\r\n\t\t\tlet arrayStartIndex = this.previousViewPort.startIndexWithBuffer || 0;\r\n\t\t\tlet wrapGroupIndex = Math.ceil(arrayStartIndex / itemsPerWrapGroup);\r\n\r\n\t\t\tlet maxWidthForWrapGroup = 0;\r\n\t\t\tlet maxHeightForWrapGroup = 0;\r\n\t\t\tlet sumOfVisibleMaxWidths = 0;\r\n\t\t\tlet sumOfVisibleMaxHeights = 0;\r\n\t\t\twrapGroupsPerPage = 0;\r\n\r\n\t\t\tfor (let i = 0; i < content.children.length; ++i) {\r\n\t\t\t\t++arrayStartIndex;\r\n\t\t\t\tlet child = content.children[i];\r\n\t\t\t\tlet clientRect = this.getElementSize(child);\r\n\r\n\t\t\t\tmaxWidthForWrapGroup = Math.max(maxWidthForWrapGroup, clientRect.width);\r\n\t\t\t\tmaxHeightForWrapGroup = Math.max(maxHeightForWrapGroup, clientRect.height);\r\n\r\n\t\t\t\tif (arrayStartIndex % itemsPerWrapGroup === 0) {\r\n\t\t\t\t\tlet oldValue = this.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex];\r\n\t\t\t\t\tif (oldValue) {\r\n\t\t\t\t\t\t--this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths -= oldValue.childWidth || 0;\r\n\t\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights -= oldValue.childHeight || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\t\t\tconst items = this.items.slice(arrayStartIndex - itemsPerWrapGroup, arrayStartIndex);\r\n\t\t\t\t\tthis.wrapGroupDimensions.maxChildSizePerWrapGroup[wrapGroupIndex] = {\r\n\t\t\t\t\t\tchildWidth: maxWidthForWrapGroup,\r\n\t\t\t\t\t\tchildHeight: maxHeightForWrapGroup,\r\n\t\t\t\t\t\titems: items\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths += maxWidthForWrapGroup;\r\n\t\t\t\t\tthis.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights += maxHeightForWrapGroup;\r\n\r\n\t\t\t\t\tif (this.horizontal) {\r\n\t\t\t\t\t\tlet maxVisibleWidthForWrapGroup = Math.min(maxWidthForWrapGroup, Math.max(viewportWidth - sumOfVisibleMaxWidths, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleWidthForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleWidthForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxWidths += maxVisibleWidthForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleWidthForWrapGroup > 0 && viewportWidth >= sumOfVisibleMaxWidths) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlet maxVisibleHeightForWrapGroup = Math.min(maxHeightForWrapGroup, Math.max(viewportHeight - sumOfVisibleMaxHeights, 0));\r\n\t\t\t\t\t\tif (scrollOffset > 0) {\r\n\t\t\t\t\t\t\tlet scrollOffsetToRemove = Math.min(scrollOffset, maxVisibleHeightForWrapGroup);\r\n\t\t\t\t\t\t\tmaxVisibleHeightForWrapGroup -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t\tscrollOffset -= scrollOffsetToRemove;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsumOfVisibleMaxHeights += maxVisibleHeightForWrapGroup;\r\n\t\t\t\t\t\tif (maxVisibleHeightForWrapGroup > 0 && viewportHeight >= sumOfVisibleMaxHeights) {\r\n\t\t\t\t\t\t\t++wrapGroupsPerPage;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t++wrapGroupIndex;\r\n\r\n\t\t\t\t\tmaxWidthForWrapGroup = 0;\r\n\t\t\t\t\tmaxHeightForWrapGroup = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet averageChildWidth = this.wrapGroupDimensions.sumOfKnownWrapGroupChildWidths / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tlet averageChildHeight = this.wrapGroupDimensions.sumOfKnownWrapGroupChildHeights / this.wrapGroupDimensions.numberOfKnownWrapGroupChildSizes;\r\n\t\t\tdefaultChildWidth = this.childWidth || averageChildWidth || viewportWidth;\r\n\t\t\tdefaultChildHeight = this.childHeight || averageChildHeight || viewportHeight;\r\n\r\n\t\t\tif (this.horizontal) {\r\n\t\t\t\tif (viewportWidth > sumOfVisibleMaxWidths) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportWidth - sumOfVisibleMaxWidths) / defaultChildWidth);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (viewportHeight > sumOfVisibleMaxHeights) {\r\n\t\t\t\t\twrapGroupsPerPage += Math.ceil((viewportHeight - sumOfVisibleMaxHeights) / defaultChildHeight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet itemCount = this.items.length;\r\n\t\tlet itemsPerPage = itemsPerWrapGroup * wrapGroupsPerPage;\r\n\t\tlet pageCount_fractional = itemCount / itemsPerPage;\r\n\t\tlet numberOfWrapGroups = Math.ceil(itemCount / itemsPerWrapGroup);\r\n\r\n\t\tlet scrollLength = 0;\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = this.horizontal ? defaultChildWidth : defaultChildHeight;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tlet numUnknownChildSizes = 0;\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\tscrollLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tscrollLength += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\t\t} else {\r\n\t\t\tscrollLength = numberOfWrapGroups * defaultScrollLengthPerWrapGroup;\r\n\t\t}\r\n\r\n\t\tif (this.headerElementRef) {\r\n\t\t\tscrollLength += this.headerElementRef.nativeElement.clientHeight;\r\n\t\t}\r\n\r\n\t\tlet viewportLength = this.horizontal ? viewportWidth : viewportHeight;\r\n\t\tlet maxScrollPosition = Math.max(scrollLength - viewportLength, 0);\r\n\r\n\t\treturn {\r\n\t\t\titemCount: itemCount,\r\n\t\t\titemsPerWrapGroup: itemsPerWrapGroup,\r\n\t\t\twrapGroupsPerPage: wrapGroupsPerPage,\r\n\t\t\titemsPerPage: itemsPerPage,\r\n\t\t\tpageCount_fractional: pageCount_fractional,\r\n\t\t\tchildWidth: defaultChildWidth,\r\n\t\t\tchildHeight: defaultChildHeight,\r\n\t\t\tscrollLength: scrollLength,\r\n\t\t\tviewportLength: viewportLength,\r\n\t\t\tmaxScrollPosition: maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected cachedPageSize: number = 0;\r\n\tprotected previousScrollNumberElements: number = 0;\r\n\r\n\tprotected calculatePadding(arrayStartIndexWithBuffer: number, dimensions: IDimensions): number {\r\n\t\tif (dimensions.itemCount === 0) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\tlet startingWrapGroupIndex = Math.floor(arrayStartIndexWithBuffer / dimensions.itemsPerWrapGroup) || 0;\r\n\r\n\t\tif (!this.enableUnequalChildrenSizes) {\r\n\t\t\treturn defaultScrollLengthPerWrapGroup * startingWrapGroupIndex;\r\n\t\t}\r\n\r\n\t\tlet numUnknownChildSizes = 0;\r\n\t\tlet result = 0;\r\n\t\tfor (let i = 0; i < startingWrapGroupIndex; ++i) {\r\n\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\tif (childSize) {\r\n\t\t\t\tresult += childSize;\r\n\t\t\t} else {\r\n\t\t\t\t++numUnknownChildSizes;\r\n\t\t\t}\r\n\t\t}\r\n\t\tresult += Math.round(numUnknownChildSizes * defaultScrollLengthPerWrapGroup);\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprotected calculatePageInfo(scrollPosition: number, dimensions: IDimensions): IPageInfo {\r\n\t\tlet scrollPercentage = 0;\r\n\t\tif (this.enableUnequalChildrenSizes) {\r\n\t\t\tconst numberOfWrapGroups = Math.ceil(dimensions.itemCount / dimensions.itemsPerWrapGroup);\r\n\t\t\tlet totalScrolledLength = 0;\r\n\t\t\tlet defaultScrollLengthPerWrapGroup = dimensions[this._childScrollDim];\r\n\t\t\tfor (let i = 0; i < numberOfWrapGroups; ++i) {\r\n\t\t\t\tlet childSize = this.wrapGroupDimensions.maxChildSizePerWrapGroup[i] && this.wrapGroupDimensions.maxChildSizePerWrapGroup[i][this._childScrollDim];\r\n\t\t\t\tif (childSize) {\r\n\t\t\t\t\ttotalScrolledLength += childSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotalScrolledLength += defaultScrollLengthPerWrapGroup;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollPosition < totalScrolledLength) {\r\n\t\t\t\t\tscrollPercentage = i / numberOfWrapGroups;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tscrollPercentage = scrollPosition / dimensions.scrollLength;\r\n\t\t}\r\n\r\n\t\tlet startingArrayIndex_fractional = Math.min(Math.max(scrollPercentage * dimensions.pageCount_fractional, 0), dimensions.pageCount_fractional) * dimensions.itemsPerPage;\r\n\r\n\t\tlet maxStart = dimensions.itemCount - dimensions.itemsPerPage - 1;\r\n\t\tlet arrayStartIndex = Math.min(Math.floor(startingArrayIndex_fractional), maxStart);\r\n\t\tarrayStartIndex -= arrayStartIndex % dimensions.itemsPerWrapGroup; // round down to start of wrapGroup\r\n\r\n\t\tif (this.stripedTable) {\r\n\t\t\tlet bufferBoundary = 2 * dimensions.itemsPerWrapGroup;\r\n\t\t\tif (arrayStartIndex % bufferBoundary !== 0) {\r\n\t\t\t\tarrayStartIndex = Math.max(arrayStartIndex - arrayStartIndex % bufferBoundary, 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet arrayEndIndex = Math.ceil(startingArrayIndex_fractional) + dimensions.itemsPerPage - 1;\r\n\t\tlet endIndexWithinWrapGroup = (arrayEndIndex + 1) % dimensions.itemsPerWrapGroup;\r\n\t\tif (endIndexWithinWrapGroup > 0) {\r\n\t\t\tarrayEndIndex += dimensions.itemsPerWrapGroup - endIndexWithinWrapGroup; // round up to end of wrapGroup\r\n\t\t}\r\n\r\n\t\tif (isNaN(arrayStartIndex)) {\r\n\t\t\tarrayStartIndex = 0;\r\n\t\t}\r\n\t\tif (isNaN(arrayEndIndex)) {\r\n\t\t\tarrayEndIndex = 0;\r\n\t\t}\r\n\r\n\t\tarrayStartIndex = Math.min(Math.max(arrayStartIndex, 0), dimensions.itemCount - 1);\r\n\t\tarrayEndIndex = Math.min(Math.max(arrayEndIndex, 0), dimensions.itemCount - 1);\r\n\r\n\t\tlet bufferSize = this.bufferAmount * dimensions.itemsPerWrapGroup;\r\n\t\tlet startIndexWithBuffer = Math.min(Math.max(arrayStartIndex - bufferSize, 0), dimensions.itemCount - 1);\r\n\t\tlet endIndexWithBuffer = Math.min(Math.max(arrayEndIndex + bufferSize, 0), dimensions.itemCount - 1);\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: arrayStartIndex,\r\n\t\t\tendIndex: arrayEndIndex,\r\n\t\t\tstartIndexWithBuffer: startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: endIndexWithBuffer,\r\n\t\t\tscrollStartPosition: scrollPosition,\r\n\t\t\tscrollEndPosition: scrollPosition + dimensions.viewportLength,\r\n\t\t\tmaxScrollPosition: dimensions.maxScrollPosition\r\n\t\t};\r\n\t}\r\n\r\n\tprotected calculateViewport(): IViewport {\r\n\t\tlet dimensions = this.calculateDimensions();\r\n\t\tlet offset = this.getElementsOffset();\r\n\r\n\t\tlet scrollStartPosition = this.getScrollStartPosition();\r\n\t\tif (scrollStartPosition > (dimensions.scrollLength + offset) && !(this.parentScroll instanceof Window)) {\r\n\t\t\tscrollStartPosition = dimensions.scrollLength;\r\n\t\t} else {\r\n\t\t\tscrollStartPosition -= offset;\r\n\t\t}\r\n\t\tscrollStartPosition = Math.max(0, scrollStartPosition);\r\n\r\n\t\tlet pageInfo = this.calculatePageInfo(scrollStartPosition, dimensions);\r\n\t\tlet newPadding = this.calculatePadding(pageInfo.startIndexWithBuffer, dimensions);\r\n\t\tlet newScrollLength = dimensions.scrollLength;\r\n\r\n\t\treturn {\r\n\t\t\tstartIndex: pageInfo.startIndex,\r\n\t\t\tendIndex: pageInfo.endIndex,\r\n\t\t\tstartIndexWithBuffer: pageInfo.startIndexWithBuffer,\r\n\t\t\tendIndexWithBuffer: pageInfo.endIndexWithBuffer,\r\n\t\t\tpadding: Math.round(newPadding),\r\n\t\t\tscrollLength: Math.round(newScrollLength),\r\n\t\t\tscrollStartPosition: pageInfo.scrollStartPosition,\r\n\t\t\tscrollEndPosition: pageInfo.scrollEndPosition,\r\n\t\t\tmaxScrollPosition: pageInfo.maxScrollPosition\r\n\t\t};\r\n\t}\r\n}\r\n\r\n@NgModule({\r\n\texports: [VirtualScrollerComponent],\r\n\tdeclarations: [VirtualScrollerComponent],\r\n\timports: [CommonModule],\r\n\tproviders: [\r\n\t\t{\r\n\t\t\tprovide: 'virtual-scroller-default-options',\r\n\t\t\tuseFactory: VIRTUAL_SCROLLER_DEFAULT_OPTIONS_FACTORY\r\n\t\t}\r\n\t]\r\n})\r\nexport class VirtualScrollerModule { }","import { Component, OnInit, HostListener, ChangeDetectionStrategy, OnDestroy, NgModule, SimpleChanges, OnChanges, ChangeDetectorRef, AfterViewChecked, ViewEncapsulation, ContentChild, ViewChild, forwardRef, Input, Output, EventEmitter, ElementRef, AfterViewInit, Pipe, PipeTransform } from '@angular/core';\r\nimport { FormsModule, NG_VALUE_ACCESSOR, ControlValueAccessor, NG_VALIDATORS, Validator, FormControl } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MyException } from './multiselect.model';\r\nimport { DropdownSettings } from './multiselect.interface';\r\nimport { ClickOutsideDirective, ScrollDirective, styleDirective, setPosition } from './clickOutside';\r\nimport { ListFilterPipe } from './list-filter';\r\nimport { Item, Badge, Search, TemplateRenderer, CIcon } from './menu-item';\r\nimport { DataService } from './multiselect.service';\r\nimport { Subscription, Subject } from 'rxjs';\r\nimport { VirtualScrollerModule, VirtualScrollerComponent } from './virtual-scroll/virtual-scroll';\r\nimport { map, debounceTime, distinctUntilChanged, switchMap, tap } from 'rxjs/operators';\r\nimport { ThrowStmt } from '@angular/compiler';\r\n\r\nexport const DROPDOWN_CONTROL_VALUE_ACCESSOR: any = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => AngularMultiSelect),\r\n    multi: true\r\n};\r\nexport const DROPDOWN_CONTROL_VALIDATION: any = {\r\n    provide: NG_VALIDATORS,\r\n    useExisting: forwardRef(() => AngularMultiSelect),\r\n    multi: true,\r\n}\r\nconst noop = () => {\r\n};\r\n\r\n@Component({\r\n    selector: 'angular2-multiselect',\r\n    templateUrl: './multiselect.component.html',\r\n    host: { '[class]': 'defaultSettings.classes' },\r\n    styleUrls: ['./multiselect.component.scss'],\r\n    providers: [DROPDOWN_CONTROL_VALUE_ACCESSOR, DROPDOWN_CONTROL_VALIDATION],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class AngularMultiSelect implements OnInit, ControlValueAccessor, OnChanges, Validator, AfterViewChecked, OnDestroy {\r\n\r\n    @Input()\r\n    data: Array<any>;\r\n\r\n    @Input()\r\n    settings: DropdownSettings;\r\n\r\n    @Input()\r\n    loading: boolean;\r\n\r\n    @Output('onSelect')\r\n    onSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onDeSelect')\r\n    onDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onSelectAll')\r\n    onSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onDeSelectAll')\r\n    onDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onOpen')\r\n    onOpen: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onClose')\r\n    onClose: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onScrollToEnd')\r\n    onScrollToEnd: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onFilterSelectAll')\r\n    onFilterSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onFilterDeSelectAll')\r\n    onFilterDeSelectAll: EventEmitter<Array<any>> = new EventEmitter<Array<any>>();\r\n\r\n    @Output('onAddFilterNewItem')\r\n    onAddFilterNewItem: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupSelect')\r\n    onGroupSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @Output('onGroupDeSelect')\r\n    onGroupDeSelect: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n    @ContentChild(Item, { static: false }) itemTempl: Item;\r\n    @ContentChild(Badge, { static: false }) badgeTempl: Badge;\r\n    @ContentChild(Search, { static: false }) searchTempl: Search;\r\n\r\n\r\n    @ViewChild('searchInput', { static: false }) searchInput: ElementRef;\r\n    @ViewChild('selectedList', { static: false }) selectedListElem: ElementRef;\r\n    @ViewChild('dropdownList', { static: false }) dropdownListElem: ElementRef;\r\n\r\n    @HostListener('document:keyup.escape', ['$event'])\r\n    onEscapeDown(event: KeyboardEvent) {\r\n        if (this.settings.escapeToClose) {\r\n            this.closeDropdown();\r\n        }\r\n    }\r\n    virtualdata: any = [];\r\n    searchTerm$ = new Subject<string>();\r\n\r\n    filterPipe: ListFilterPipe;\r\n    public selectedItems: Array<any>;\r\n    public isActive: boolean = false;\r\n    public isSelectAll: boolean = false;\r\n    public isFilterSelectAll: boolean = false;\r\n    public isInfiniteFilterSelectAll: boolean = false;\r\n    public groupedData: Array<any>;\r\n    filter: any;\r\n    public chunkArray: any[];\r\n    public scrollTop: any;\r\n    public chunkIndex: any[] = [];\r\n    public cachedItems: any[] = [];\r\n    public groupCachedItems: any[] = [];\r\n    public totalRows: any;\r\n    public itemHeight: any = 41.6;\r\n    public screenItemsLen: any;\r\n    public cachedItemsLen: any;\r\n    public totalHeight: any;\r\n    public scroller: any;\r\n    public maxBuffer: any;\r\n    public lastScrolled: any;\r\n    public lastRepaintY: any;\r\n    public selectedListHeight: any;\r\n    public filterLength: any = 0;\r\n    public infiniteFilterLength: any = 0;\r\n    public viewPortItems: any;\r\n    public item: any;\r\n    public dropdownListYOffset: number = 0;\r\n    subscription: Subscription;\r\n    defaultSettings: DropdownSettings = {\r\n        singleSelection: false,\r\n        text: 'Select',\r\n        enableCheckAll: true,\r\n        selectAllText: 'Select All',\r\n        unSelectAllText: 'UnSelect All',\r\n        filterSelectAllText: 'Select all filtered results',\r\n        filterUnSelectAllText: 'UnSelect all filtered results',\r\n        enableSearchFilter: false,\r\n        searchBy: [],\r\n        maxHeight: 300,\r\n        badgeShowLimit: 999999999999,\r\n        classes: '',\r\n        disabled: false,\r\n        searchPlaceholderText: 'Search',\r\n        showCheckbox: true,\r\n        noDataLabel: 'No Data Available',\r\n        searchAutofocus: true,\r\n        lazyLoading: false,\r\n        labelKey: 'itemName',\r\n        primaryKey: 'id',\r\n        position: 'bottom',\r\n        autoPosition: true,\r\n        enableFilterSelectAll: true,\r\n        selectGroup: false,\r\n        addNewItemOnFilter: false,\r\n        addNewButtonText: \"Add\",\r\n        escapeToClose: true,\r\n        clearAll: true\r\n    }\r\n    randomSize: boolean = true;\r\n    public parseError: boolean;\r\n    public filteredList: any = [];\r\n    virtualScroollInit: boolean = false;\r\n    @ViewChild(VirtualScrollerComponent, { static: false })\r\n    private virtualScroller: VirtualScrollerComponent;\r\n    public isDisabledItemPresent = false;\r\n\r\n    constructor(public _elementRef: ElementRef, private cdr: ChangeDetectorRef, private ds: DataService) {\r\n        this.searchTerm$.asObservable().pipe(\r\n            debounceTime(1000),\r\n            distinctUntilChanged(),\r\n            tap(term => term)\r\n        ).subscribe(val => {\r\n            this.filterInfiniteList(val);\r\n        });\r\n    }\r\n    ngOnInit() {\r\n        this.settings = Object.assign(this.defaultSettings, this.settings);\r\n\r\n        this.cachedItems = this.cloneArray(this.data);\r\n        if (this.settings.position == 'top') {\r\n            setTimeout(() => {\r\n                this.selectedListHeight = { val: 0 };\r\n                this.selectedListHeight.val = this.selectedListElem.nativeElement.clientHeight;\r\n            });\r\n        }\r\n        this.subscription = this.ds.getData().subscribe(data => {\r\n            if (data) {\r\n                let len = 0;\r\n                data.forEach((obj: any, i: any) => {\r\n                    if (obj.disabled) {\r\n                        this.isDisabledItemPresent = true;\r\n                    }\r\n                    if (!obj.hasOwnProperty('grpTitle')) {\r\n                        len++;\r\n                    }\r\n                });\r\n                this.filterLength = len;\r\n                this.onFilterChange(data);\r\n            }\r\n\r\n        });\r\n        setTimeout(() => {\r\n            this.calculateDropdownDirection();\r\n        });\r\n        this.virtualScroollInit = false;\r\n    }\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes.data && !changes.data.firstChange) {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                if (this.data.length == 0) {\r\n                    this.selectedItems = [];\r\n                }\r\n                this.groupCachedItems = this.cloneArray(this.groupedData);\r\n            }\r\n            this.cachedItems = this.cloneArray(this.data);\r\n        }\r\n        if (changes.settings && !changes.settings.firstChange) {\r\n            this.settings = Object.assign(this.defaultSettings, this.settings);\r\n        }\r\n        if (changes.loading) {\r\n        }\r\n        if (this.settings.lazyLoading && this.virtualScroollInit && changes.data) {\r\n            this.virtualdata = changes.data.currentValue;\r\n        }\r\n    }\r\n    ngDoCheck() {\r\n        if (this.selectedItems) {\r\n            if (this.selectedItems.length == 0 || this.data.length == 0 || this.selectedItems.length < this.data.length) {\r\n                this.isSelectAll = false;\r\n            }\r\n        }\r\n    }\r\n    ngAfterViewInit() {\r\n        if (this.settings.lazyLoading) {\r\n            // this._elementRef.nativeElement.getElementsByClassName(\"lazyContainer\")[0].addEventListener('scroll', this.onScroll.bind(this));\r\n        }\r\n    }\r\n    ngAfterViewChecked() {\r\n        if (this.selectedListElem.nativeElement.clientHeight && this.settings.position == 'top' && this.selectedListHeight) {\r\n            this.selectedListHeight.val = this.selectedListElem.nativeElement.clientHeight;\r\n            this.cdr.detectChanges();\r\n        }\r\n    }\r\n    onItemClick(item: any, index: number, evt: Event) {\r\n        if (item.disabled) {\r\n            return false;\r\n        }\r\n\r\n        if (this.settings.disabled) {\r\n            return false;\r\n        }\r\n\r\n        let found = this.isSelected(item);\r\n        let limit = this.selectedItems.length < this.settings.limitSelection ? true : false;\r\n\r\n        if (!found) {\r\n            if (this.settings.limitSelection) {\r\n                if (limit) {\r\n                    this.addSelected(item);\r\n                    this.onSelect.emit(item);\r\n                }\r\n            }\r\n            else {\r\n                this.addSelected(item);\r\n                this.onSelect.emit(item);\r\n            }\r\n\r\n        }\r\n        else {\r\n            this.removeSelected(item);\r\n            this.onDeSelect.emit(item);\r\n        }\r\n        if (this.isSelectAll || this.data.length > this.selectedItems.length) {\r\n            this.isSelectAll = false;\r\n        }\r\n\r\n        if (this.data.length == this.selectedItems.length) {\r\n            this.isSelectAll = true;\r\n        }\r\n        if (this.settings.groupBy) {\r\n            this.updateGroupInfo(item);\r\n        }\r\n    }\r\n    public validate(c: FormControl): any {\r\n        return null;\r\n    }\r\n    private onTouchedCallback: (_: any) => void = noop;\r\n    private onChangeCallback: (_: any) => void = noop;\r\n\r\n    writeValue(value: any) {\r\n        if (value !== undefined && value !== null && value !== '') {\r\n            if (this.settings.singleSelection) {\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                    this.selectedItems = [value[0]];\r\n                } else {\r\n                    try {\r\n\r\n                        if (value.length > 1) {\r\n                            this.selectedItems = [value[0]];\r\n                            throw new MyException(404, { \"msg\": \"Single Selection Mode, Selected Items cannot have more than one item.\" });\r\n                        }\r\n                        else {\r\n                            this.selectedItems = value;\r\n                        }\r\n                    }\r\n                    catch (e) {\r\n                        console.error(e.body.msg);\r\n                    }\r\n                }\r\n\r\n            }\r\n            else {\r\n                if (this.settings.limitSelection) {\r\n                    this.selectedItems = value.slice(0, this.settings.limitSelection);\r\n                }\r\n                else {\r\n                    this.selectedItems = value;\r\n                }\r\n                if (this.selectedItems.length === this.data.length && this.data.length > 0) {\r\n                    this.isSelectAll = true;\r\n                }\r\n                if (this.settings.groupBy) {\r\n                    this.groupedData = this.transformData(this.data, this.settings.groupBy);\r\n                    this.groupCachedItems = this.cloneArray(this.groupedData);\r\n                }\r\n            }\r\n        } else {\r\n            this.selectedItems = [];\r\n        }\r\n    }\r\n\r\n    //From ControlValueAccessor interface\r\n    registerOnChange(fn: any) {\r\n        this.onChangeCallback = fn;\r\n    }\r\n\r\n    //From ControlValueAccessor interface\r\n    registerOnTouched(fn: any) {\r\n        this.onTouchedCallback = fn;\r\n    }\r\n    trackByFn(index: number, item: any) {\r\n        return item[this.settings.primaryKey];\r\n    }\r\n    isSelected(clickedItem: any) {\r\n        if (clickedItem.disabled) {\r\n            return false;\r\n        }\r\n        let found = false;\r\n        this.selectedItems && this.selectedItems.forEach(item => {\r\n            if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                found = true;\r\n            }\r\n        });\r\n        return found;\r\n    }\r\n    addSelected(item: any) {\r\n        if (item.disabled) {\r\n            return;\r\n        }\r\n        if (this.settings.singleSelection) {\r\n            this.selectedItems = [];\r\n            this.selectedItems.push(item);\r\n            this.closeDropdown();\r\n        }\r\n        else\r\n            this.selectedItems.push(item);\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n    }\r\n    removeSelected(clickedItem: any) {\r\n        this.selectedItems && this.selectedItems.forEach(item => {\r\n            if (clickedItem[this.settings.primaryKey] === item[this.settings.primaryKey]) {\r\n                this.selectedItems.splice(this.selectedItems.indexOf(item), 1);\r\n            }\r\n        });\r\n        this.onChangeCallback(this.selectedItems);\r\n        this.onTouchedCallback(this.selectedItems);\r\n    }\r\n    toggleDropdown(evt: any) {\r\n        if (this.settings.disabled) {\r\n            return false;\r\n        }\r\n        this.isActive = !this.isActive;\r\n        if (this.isActive) {\r\n            if (this.settings.searchAutofocus && this.searchInput && this.settings.enableSearchFilter && !this.searchTempl) {\r\n                setTimeout(() => {\r\n                    this.searchInput.nativeElement.focus();\r\n                }, 0);\r\n            }\r\n            this.onOpen.emit(true);\r\n        }\r\n        else {\r\n            this.onClose.emit(false);\r\n        }\r\n        setTimeout(() => {\r\n            this.calculateDropdownDirection();\r\n        }, 0);\r\n        if (this.settings.lazyLoading) {\r\n            this.virtualdata = this.data;\r\n            this.virtualScroollInit = true;\r\n        }\r\n        evt.preventDefault();\r\n    }\r\n    public openDropdown() {\r\n        if (this.settings.disabled) {\r\n            return false;\r\n        }\r\n        this.isActive = true;\r\n        if (this.settings.searchAutofocus && this.searchInput && this.settings.enableSearchFilter && !this.searchTempl) {\r\n            setTimeout(() => {\r\n                this.searchInput.nativeElement.focus();\r\n            }, 0);\r\n        }\r\n        this.onOpen.emit(true);\r\n    }\r\n    public closeDropdown() {\r\n        if (this.searchInput && this.settings.lazyLoading) {\r\n            this.searchInput.nativeElement.value = \"\";\r\n        }\r\n        if (this.searchInput) {\r\n            this.searchInput.nativeElement.value = \"\";\r\n        }\r\n        this.filter = \"\";\r\n        this.isActive = false;\r\n        this.onClose.emit(false);\r\n    }\r\n    public closeDropdownOnClickOut() {\r\n        if (this.isActive) {\r\n            if (this.searchInput && this.settings.lazyLoading) {\r\n                this.searchInput.nativeElement.value = \"\";\r\n            }\r\n            if (this.searchInput) {\r\n                this.searchInput.nativeElement.value = \"\";\r\n            }\r\n            this.filter = \"\";\r\n            this.isActive = false;\r\n            this.clearSearch();\r\n            this.onClose.emit(false);\r\n        }\r\n    }\r\n    toggleSelectAll() {\r\n        if (!this.isSelectAll) {\r\n            this.selectedItems = [];\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = !obj.disabled;\r\n                })\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = !obj.disabled;\r\n                })\r\n            }\r\n            // this.selectedItems = this.data.slice();\r\n            this.selectedItems = this.data.filter((individualData) => !individualData.disabled);\r\n            this.isSelectAll = true;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onSelectAll.emit(this.selectedItems);\r\n        }\r\n        else {\r\n            if (this.settings.groupBy) {\r\n                this.groupedData.forEach((obj) => {\r\n                    obj.selected = false;\r\n                });\r\n                this.groupCachedItems.forEach((obj) => {\r\n                    obj.selected = false;\r\n                })\r\n            }\r\n            this.selectedItems = [];\r\n            this.isSelectAll = false;\r\n            this.onChangeCallback(this.selectedItems);\r\n            this.onTouchedCallback(this.selectedItems);\r\n\r\n            this.onDeSelectAll.emit(this.selectedItems);\r\n        }\r\n    }\r\n    filterGroupedList() {\r\n        if (this.filter == \"\" || this.filter == null) {\r\n            this.clearSearch();\r\n            return;\r\n        }\r\n        this.groupedData = this.cloneArray(this.groupCachedItems);\r\n        this.groupedData = this.groupedData.filter(obj => {\r\n            let arr = [];\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                arr = obj.list;\r\n            }\r\n            else {\r\n                arr = obj.list.filter(t => {\r\n                    return t[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                });\r\n            }\r\n\r\n            obj.list = arr;\r\n            if (obj[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1) {\r\n                return arr;\r\n            }\r\n            else {\r\n                return arr.some(cat => {\r\n                    return cat[this.settings.labelKey].toLowerCase().indexOf(this.filter.toLowerCase()) > -1;\r\n                }\r\n                )\r\n            }\r\n\r\n        });\r\n    }\r\n    toggleFilterSelectAll() {\r\n        if (!this.isFilterSelectAll) {\r\n            let added = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (!this.isSelected(el)) {\r\n                                                this.addSelected(el);\r\n                                                added.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                    this.updateGroupInfo(item);\r\n                \r\n                                }); */\r\n\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (!this.isSelected(el) && !el.hasOwnProperty('grpTitle')) {\r\n                        this.addSelected(el);\r\n                        added.push(el);\r\n                    }\r\n                });\r\n\r\n            }\r\n            else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (!this.isSelected(item)) {\r\n                        this.addSelected(item);\r\n                        added.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n            this.isFilterSelectAll = true;\r\n            this.onFilterSelectAll.emit(added);\r\n        }\r\n        else {\r\n            let removed = [];\r\n            if (this.settings.groupBy) {\r\n                /*                 this.groupedData.forEach((item: any) => {\r\n                                    if (item.list) {\r\n                                        item.list.forEach((el: any) => {\r\n                                            if (this.isSelected(el)) {\r\n                                                this.removeSelected(el);\r\n                                                removed.push(el);\r\n                                            }\r\n                                        });\r\n                                    }\r\n                                }); */\r\n                this.ds.getFilteredData().forEach((el: any) => {\r\n                    if (this.isSelected(el)) {\r\n                        this.removeSelected(el);\r\n                        removed.push(el);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                this.ds.getFilteredData().forEach((item: any) => {\r\n                    if (this.isSelected(item)) {\r\n                        this.removeSelected(item);\r\n                        removed.push(item);\r\n                    }\r\n\r\n                });\r\n            }\r\n            this.isFilterSelectAll = false;\r\n            this.onFilterDeSelectAll.emit(removed);\r\n        }\r\n    }\r\n    toggleInfiniteFilterSelectAll() {\r\n        if (!this.isInfiniteFilterSelectAll) {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (!this.isSelected(item)) {\r\n                    this.addSelected(item);\r\n                }\r\n            });\r\n            this.isInfiniteFilterSelectAll = true;\r\n        }\r\n        else {\r\n            this.virtualdata.forEach((item: any) => {\r\n                if (this.isSelected(item)) {\r\n                    this.removeSelected(item);\r\n                }\r\n\r\n            });\r\n            this.isInfiniteFilterSelectAll = false;\r\n        }\r\n    }\r\n    clearSearch() {\r\n        if (this.settings.groupBy) {\r\n            this.groupedData = [];\r\n            this.groupedData = this.cloneArray(this.groupCachedItems);\r\n        }\r\n        this.filter = \"\";\r\n        this.isFilterSelectAll = false;\r\n\r\n    }\r\n    onFilterChange(data: any) {\r\n        if (this.filter && this.filter == \"\" || data.length == 0) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        let cnt = 0;\r\n        data.forEach((item: any) => {\r\n\r\n            if (!item.hasOwnProperty('grpTitle') && this.isSelected(item)) {\r\n                cnt++;\r\n            }\r\n        });\r\n\r\n        if (cnt > 0 && this.filterLength == cnt) {\r\n            this.isFilterSelectAll = true;\r\n        }\r\n        else if (cnt > 0 && this.filterLength != cnt) {\r\n            this.isFilterSelectAll = false;\r\n        }\r\n        this.cdr.detectChanges();\r\n    }\r\n    cloneArray(arr: any) {\r\n        let i, copy;\r\n\r\n        if (Array.isArray(arr)) {\r\n            return JSON.parse(JSON.stringify(arr));\r\n        } else if (typeof arr === 'object') {\r\n            throw 'Cannot clone array containing an object!';\r\n        } else {\r\n            return arr;\r\n        }\r\n    }\r\n    updateGroupInfo(item: any) {\r\n        if (item.disabled) {\r\n            return false;\r\n        }\r\n        let key = this.settings.groupBy;\r\n        this.groupedData.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] == obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] == obj[key])) {\r\n                obj.selected = true;\r\n            }\r\n            else if (obj.list && (cnt != obj.list.length) && (item[key] == obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n        this.groupCachedItems.forEach((obj: any) => {\r\n            let cnt = 0;\r\n            if (obj.grpTitle && (item[key] == obj[key])) {\r\n                if (obj.list) {\r\n                    obj.list.forEach((el: any) => {\r\n                        if (this.isSelected(el)) {\r\n                            cnt++;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (obj.list && (cnt === obj.list.length) && (item[key] == obj[key])) {\r\n                obj.selected = true;\r\n            }\r\n            else if (obj.list && (cnt != obj.list.length) && (item[key] == obj[key])) {\r\n                obj.selected = false;\r\n            }\r\n        });\r\n    }\r\n    transformData(arr: Array<any>, field: any): Array<any> {\r\n        const groupedObj: any = arr.reduce((prev: any, cur: any) => {\r\n            if (!prev[cur[field]]) {\r\n                prev[cur[field]] = [cur];\r\n            } else {\r\n                prev[cur[field]].push(cur);\r\n            }\r\n            return prev;\r\n        }, {});\r\n        const tempArr: any = [];\r\n        Object.keys(groupedObj).map((x: any) => {\r\n            let obj: any = {};\r\n            let disabledChildrens = [];\r\n            obj[\"grpTitle\"] = true;\r\n            obj[this.settings.labelKey] = x;\r\n            obj[this.settings.groupBy] = x;\r\n            obj['selected'] = false;\r\n            obj['list'] = [];\r\n            let cnt = 0;\r\n            groupedObj[x].forEach((item: any) => {\r\n                item['list'] = [];\r\n                if (item.disabled) {\r\n                    this.isDisabledItemPresent = true;\r\n                    disabledChildrens.push(item);\r\n                }\r\n                obj.list.push(item);\r\n                if (this.isSelected(item)) {\r\n                    cnt++;\r\n                }\r\n            });\r\n            if (cnt == obj.list.length) {\r\n                obj.selected = true;\r\n            }\r\n            else {\r\n                obj.selected = false;\r\n            }\r\n\r\n            // Check if current group item's all childrens are disabled or not\r\n            obj['disabled'] = disabledChildrens.length === groupedObj[x].length;\r\n            tempArr.push(obj);\r\n            // obj.list.forEach((item: any) => {\r\n            //     tempArr.push(item);\r\n            // });\r\n        });\r\n        return tempArr;\r\n    }\r\n    public filterInfiniteList(evt: any) {\r\n        let filteredElems: Array<any> = [];\r\n        if (this.settings.groupBy) {\r\n            this.groupedData = this.groupCachedItems.slice();\r\n        }\r\n        else {\r\n            this.data = this.cachedItems.slice();\r\n            this.virtualdata = this.cachedItems.slice();\r\n        }\r\n\r\n        if ((evt != null || evt != '') && !this.settings.groupBy) {\r\n            if (this.settings.searchBy.length > 0) {\r\n                for (let t = 0; t < this.settings.searchBy.length; t++) {\r\n\r\n                    this.virtualdata.filter((el: any) => {\r\n                        if (el[this.settings.searchBy[t].toString()].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                        }\r\n                    });\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.virtualdata.filter(function (el: any) {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            this.virtualdata = [];\r\n            this.virtualdata = filteredElems;\r\n            this.infiniteFilterLength = this.virtualdata.length;\r\n        }\r\n        if (evt.toString() != '' && this.settings.groupBy) {\r\n            this.groupedData.filter(function (el: any) {\r\n                if (el.hasOwnProperty('grpTitle')) {\r\n                    filteredElems.push(el);\r\n                }\r\n                else {\r\n                    for (let prop in el) {\r\n                        if (el[prop].toString().toLowerCase().indexOf(evt.toString().toLowerCase()) >= 0) {\r\n                            filteredElems.push(el);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.groupedData = [];\r\n            this.groupedData = filteredElems;\r\n            this.infiniteFilterLength = this.groupedData.length;\r\n        }\r\n        else if (evt.toString() == '' && this.cachedItems.length > 0) {\r\n            this.virtualdata = [];\r\n            this.virtualdata = this.cachedItems;\r\n            this.infiniteFilterLength = 0;\r\n        }\r\n        this.virtualScroller.refresh();\r\n    }\r\n    resetInfiniteSearch() {\r\n        this.filter = \"\";\r\n        this.isInfiniteFilterSelectAll = false;\r\n        this.virtualdata = [];\r\n        this.virtualdata = this.cachedItems;\r\n        this.groupedData = this.groupCachedItems;\r\n        this.infiniteFilterLength = 0;\r\n    }\r\n    onScrollEnd(e: any) {\r\n        if (e.endIndex === this.data.length - 1 || e.startIndex === 0) {\r\n\r\n        }\r\n        this.onScrollToEnd.emit(e);\r\n\r\n    }\r\n    ngOnDestroy() {\r\n        if (this.subscription) {\r\n            this.subscription.unsubscribe();\r\n        }\r\n\r\n    }\r\n    selectGroup(item: any) {\r\n        if (item.disabled) {\r\n            return false;\r\n        }\r\n        if (item.selected) {\r\n            item.selected = false;\r\n            item.list.forEach((obj: any) => {\r\n                this.removeSelected(obj);\r\n            });\r\n            this.updateGroupInfo(item);\r\n            this.onGroupSelect.emit(item);\r\n        }\r\n        else {\r\n            item.selected = true;\r\n            item.list.forEach((obj: any) => {\r\n                if (!this.isSelected(obj)) {\r\n                    this.addSelected(obj);\r\n                }\r\n\r\n            });\r\n            this.updateGroupInfo(item);\r\n            this.onGroupDeSelect.emit(item);\r\n        }\r\n\r\n\r\n    }\r\n    addFilterNewItem() {\r\n        this.onAddFilterNewItem.emit(this.filter);\r\n        this.filterPipe = new ListFilterPipe(this.ds);\r\n        this.filterPipe.transform(this.data, this.filter, this.settings.searchBy);\r\n    }\r\n    calculateDropdownDirection() {\r\n        let shouldOpenTowardsTop = this.settings.position == 'top';\r\n        if (this.settings.autoPosition) {\r\n            const dropdownHeight = this.dropdownListElem.nativeElement.clientHeight;\r\n            const viewportHeight = document.documentElement.clientHeight;\r\n            const selectedListBounds = this.selectedListElem.nativeElement.getBoundingClientRect();\r\n\r\n            const spaceOnTop: number = selectedListBounds.top;\r\n            const spaceOnBottom: number = viewportHeight - selectedListBounds.top;\r\n            if (spaceOnBottom < spaceOnTop && dropdownHeight < spaceOnTop) {\r\n                this.openTowardsTop(true);\r\n            }\r\n            else {\r\n                this.openTowardsTop(false);\r\n            }\r\n            // Keep preference if there is not enough space on either the top or bottom\r\n            /* \t\t\tif (spaceOnTop || spaceOnBottom) {\r\n                            if (shouldOpenTowardsTop) {\r\n                                shouldOpenTowardsTop = spaceOnTop;\r\n                            } else {\r\n                                shouldOpenTowardsTop = !spaceOnBottom;\r\n                            }\r\n                        } */\r\n        }\r\n\r\n    }\r\n    openTowardsTop(value: boolean) {\r\n        if (value && this.selectedListElem.nativeElement.clientHeight) {\r\n            this.dropdownListYOffset = 15 + this.selectedListElem.nativeElement.clientHeight;\r\n        } else {\r\n            this.dropdownListYOffset = 0;\r\n        }\r\n    }\r\n    clearSelection(e: any) {\r\n        if (this.settings.groupBy) {\r\n            this.groupCachedItems.forEach((obj) => {\r\n                obj.selected = false;\r\n            })\r\n        }\r\n        this.clearSearch();\r\n        this.selectedItems = [];\r\n        this.onDeSelectAll.emit(this.selectedItems);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule, FormsModule, VirtualScrollerModule],\r\n    declarations: [AngularMultiSelect, ClickOutsideDirective, ScrollDirective, styleDirective, ListFilterPipe, Item, TemplateRenderer, Badge, Search, setPosition, CIcon],\r\n    exports: [AngularMultiSelect, ClickOutsideDirective, ScrollDirective, styleDirective, ListFilterPipe, Item, TemplateRenderer, Badge, Search, setPosition, CIcon],\r\n    providers: [DataService]\r\n})\r\nexport class AngularMultiSelectModule { }\r\n"],"names":["EventEmitter","Directive","ElementRef","Output","HostListener","Input","Subject","Injectable","Pipe","Component","ContentChild","TemplateRef","ViewContainerRef","ViewEncapsulation","isPlatformServer","tween.Tween","tween.Easing","Renderer2","NgZone","ChangeDetectorRef","Inject","PLATFORM_ID","Optional","ViewChild","NgModule","CommonModule","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","debounceTime","distinctUntilChanged","tap","FormsModule"],"mappings":";;;;;;;;;;IAAA;QAGC,qBAAY,MAAe,EAAE,IAAU;YACtC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;SACjB;QAEF,kBAAC;KAAA,IAAA;;;;;;ACRD;QAMI,+BAAoB,WAAuB;YAAvB,gBAAW,GAAX,WAAW,CAAY;YAIpC,iBAAY,GAAG,IAAIA,iBAAY,EAAc,CAAC;SAHpD;;;;;;QAOM,uCAAO;;;;;QAFd,UAEe,KAAiB,EAAE,aAA0B;YACxD,IAAI,CAAC,aAAa,EAAE;gBAChB,OAAO;aACV;;gBAEK,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAC,aAAa,CAAC;YAC5E,IAAI,CAAC,aAAa,EAAE;gBAChB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACjC;SACJ;;oBArBJC,cAAS,SAAC;wBACP,QAAQ,EAAE,gBAAgB;qBAC7B;;;;oBAJmBC,eAAU;;;mCASzBC,WAAM;8BAGNC,iBAAY,SAAC,gBAAgB,EAAE,CAAC,QAAQ,EAAE,eAAe,CAAC,cAC1DA,iBAAY,SAAC,qBAAqB,EAAE,CAAC,QAAQ,EAAE,eAAe,CAAC;;QAWpE,4BAAC;KAtBD,IAsBC;;QAMG,yBAAoB,WAAuB;YAAvB,gBAAW,GAAX,WAAW,CAAY;YAIpC,WAAM,GAAG,IAAIJ,iBAAY,EAAc,CAAC;SAH9C;;;;;;QAMM,iCAAO;;;;;QADd,UACe,KAAiB,EAAE,aAA0B;YACxD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3B;;oBAbJC,cAAS,SAAC;wBACP,QAAQ,EAAE,UAAU;qBACvB;;;;oBA5BmBC,eAAU;;;6BAiCzBC,WAAM;8BAGNC,iBAAY,SAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC;;QAItC,sBAAC;KAdD,IAcC;;QAMG,wBAAoB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;SAEjC;;;;QAID,iCAAQ;;;QAAR;YAEI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;SACnD;;;;QACD,oCAAW;;;QAAX;YACI,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC;SACnD;;oBAjBJH,cAAS,SAAC;wBACP,QAAQ,EAAE,aAAa;qBAC1B;;;;oBA3CmBC,eAAU;;;+BAkDzBG,UAAK,SAAC,WAAW;;QAStB,qBAAC;KAlBD,IAkBC;;QAUG,qBAAmB,EAAc;YAAd,OAAE,GAAF,EAAE,CAAY;SAEhC;;;;QACD,8BAAQ;;;QAAR;YACI,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;aAC/E;SACJ;;;;QACD,iCAAW;;;QAAX;YACI,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC;aAC/E;SACJ;;oBAnBJJ,cAAS,SAAC;wBACP,QAAQ,EAAE,eAAe;qBAC5B;;;;oBAhEmBC,eAAU;;;6BAmEzBG,UAAK,SAAC,aAAa;;QAexB,kBAAC;KApBD;;;;;;AC9DA;QAIA;YAGE,iBAAY,GAAQ,EAAE,CAAC;YACf,YAAO,GAAG,IAAIC,YAAO,EAAO,CAAC;SAmBtC;;;;;QAjBC,6BAAO;;;;QAAP,UAAQ,IAAS;YAEf,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACzB;;;;QACD,6BAAO;;;QAAP;YACE,OAAO,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;SACpC;;;;QACD,qCAAe;;;QAAf;YACE,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrD,OAAO,IAAI,CAAC,YAAY,CAAC;aAC1B;iBACI;gBACH,OAAO,EAAE,CAAC;aACX;SACF;;oBArBFC,eAAU;;QAuBX,kBAAC;KAvBD;;;;;;ACJA;QAWI,wBAAoB,EAAe;YAAf,OAAE,GAAF,EAAE,CAAa;YAD5B,iBAAY,GAAQ,EAAE,CAAC;SAG7B;;;;;;;QAED,kCAAS;;;;;;QAAT,UAAU,KAAY,EAAE,MAAW,EAAE,QAAa;YAAlD,iBAQC;YAPG,IAAI,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE;gBACnB,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;gBACvB,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,MAAM;;;;YAAC,UAAC,IAAS,IAAK,OAAA,KAAI,CAAC,WAAW,CAAC,IAAI,EAAE,MAAM,EAAE,QAAQ,CAAC,GAAA,EAAC,CAAC;YAC1F,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACnC,OAAO,IAAI,CAAC,YAAY,CAAC;SAC5B;;;;;;;QACD,oCAAW;;;;;;QAAX,UAAY,IAAS,EAAE,MAAW,EAAE,QAAa;;gBACzC,KAAK,GAAG,KAAK;YACjB,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBACrB,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,KAAK,GAAG,IAAI,CAAC;iBAChB;qBACI;oBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;wBACtC,IAAI,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;4BACxD,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;gCAC/E,KAAK,GAAG,IAAI,CAAC;6BAChB;yBACJ;qBACJ;iBACJ;aAEJ;iBAAM;gBACH,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,KAAK,GAAG,IAAI,CAAC;iBAChB;qBACI;oBACD,KAAK,IAAI,IAAI,IAAI,IAAI,EAAE;wBACnB,IAAI,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE;4BACtB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;gCACxE,KAAK,GAAG,IAAI,CAAC;6BAChB;yBACJ;qBACJ;iBACJ;aACJ;YAED,OAAO,KAAK,CAAC;SAChB;;oBApDJC,SAAI,SAAC;wBACF,IAAI,EAAE,YAAY;wBAClB,IAAI,EAAE,IAAI;qBACb;;;;oBANQ,WAAW;;QAwDpB,qBAAC;KArDD;;;;;;ACJA;QAYI;SACC;;oBATJC,cAAS,SAAC;wBACT,QAAQ,EAAE,QAAQ;wBAClB,QAAQ,EAAE,EAAE;qBACb;;;;;+BAIIC,iBAAY,SAACC,gBAAW,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;;QAI7C,WAAC;KAXD,IAWC;;QAUG;SACC;;oBATJF,cAAS,SAAC;wBACT,QAAQ,EAAE,SAAS;wBACnB,QAAQ,EAAE,EAAE;qBACb;;;;;+BAIIC,iBAAY,SAACC,gBAAW,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;;QAI7C,YAAC;KAXD,IAWC;;QAUG;SACC;;oBATJF,cAAS,SAAC;wBACT,QAAQ,EAAE,UAAU;wBACpB,QAAQ,EAAE,EAAE;qBACb;;;;;+BAIIC,iBAAY,SAACC,gBAAW,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC;;QAI7C,aAAC;KAXD,IAWC;;QAYG,0BAAmB,aAA+B;YAA/B,kBAAa,GAAb,aAAa,CAAkB;SACjD;;;;QACD,mCAAQ;;;QAAR;YACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAClE,YAAY,EAAE,IAAI,CAAC,IAAI;gBACvB,MAAM,EAAC,IAAI,CAAC,IAAI;aACnB,CAAC,CAAC;SACN;;;;QAED,sCAAW;;;QAAX;YACF,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;SACpB;;oBAtBDF,cAAS,SAAC;wBACT,QAAQ,EAAE,oBAAoB;wBAC9B,QAAQ,EAAE,EAAE;qBACb;;;;oBA7CyHG,qBAAgB;;;2BAiDrIP,UAAK;2BACLA,UAAK;;QAgBV,uBAAC;KAxBD,IAwBC;;QAED;SAyEC;;oBAzEAI,cAAS,SAAC;wBACT,QAAQ,EAAE,QAAQ;wBAClB,QAAQ,EAAE,iyIA8DL;wBACL,aAAa,EAAEI,sBAAiB,CAAC,IAAI;qBAEtC;;;2BAIIR,UAAK;;QAEV,YAAC;KAzED;;;;;;ICpEA;;;IAuCA,SAAgB,wCAAwC;QACvD,OAAO;YACN,oBAAoB,EAAE,CAAC;YACvB,kBAAkB,EAAE,CAAC;YACrB,mBAAmB,EAAE,GAAG;YACxB,mBAAmB,EAAE,IAAI;YACzB,4BAA4B,EAAE,CAAC;YAC/B,iCAAiC,EAAE,IAAI;YACvC,YAAY,EAAE,KAAK;SACnB,CAAC;KACF;AAYD;QAweC,kCAA+B,OAAmB,EAC9B,QAAmB,EACnB,IAAY,EACrB,iBAAoC,EACzB,UAAkB,EAEvC,OAAsC;YANR,YAAO,GAAP,OAAO,CAAY;YAC9B,aAAQ,GAAR,QAAQ,CAAW;YACnB,SAAI,GAAJ,IAAI,CAAQ;YACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;YAraxC,WAAM,GAAG,MAAM,CAAC;YAgBhB,qCAAgC,GAAY,KAAK,CAAC;YAE/C,gCAA2B,GAAY,KAAK,CAAC;YAgBhD,gCAA2B,GAAY,KAAK,CAAC;YA2B7C,qBAAgB,GAAW,IAAI,CAAC;YAGhC,sBAAiB,GAAW,IAAI,CAAC;YAE9B,kBAAa,GAAW,CAAC,CAAC;YAyE1B,WAAM,GAAU,EAAE,CAAC;YAetB,iBAAY;;;;;YAAwC,UAAC,KAAU,EAAE,KAAU,IAAK,OAAA,KAAK,KAAK,KAAK,GAAA,EAAC;YA8ChG,aAAQ,GAAwB,IAAIL,iBAAY,EAAS,CAAC;YAG1D,aAAQ,GAA4B,IAAIA,iBAAY,EAAa,CAAC;YAGlE,YAAO,GAA4B,IAAIA,iBAAY,EAAa,CAAC;YAGjE,UAAK,GAA4B,IAAIA,iBAAY,EAAa,CAAC;YAuV5D,6BAAwB,GAAW,CAAC,CAAC;YACrC,8BAAyB,GAAW,CAAC,CAAC;YAEtC,YAAO,GAAW,CAAC,CAAC;YACpB,qBAAgB,sBAAmB,EAAE,EAAA,CAAC;YAwdtC,mBAAc,GAAW,CAAC,CAAC;YAC3B,iCAA4B,GAAW,CAAC,CAAC;YA3lBlD,IAAI,CAAC,qBAAqB,GAAGc,uBAAgB,CAAC,UAAU,CAAC,CAAC;YAE1D,IAAI,CAAC,oBAAoB,GAAG,OAAO,CAAC,oBAAoB,CAAC;YACzD,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,kBAAkB,CAAC;YACrD,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACvD,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;YAC7C,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;YAC/C,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,mBAAmB,CAAC;YACvD,IAAI,CAAC,4BAA4B,GAAG,OAAO,CAAC,4BAA4B,CAAC;YACzE,IAAI,CAAC,iCAAiC,GAAG,OAAO,CAAC,iCAAiC,CAAC;YACnF,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;YAEzC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,wBAAwB,EAAE,CAAC;SAChC;QAtbD,sBAAW,kDAAY;;;;YAAvB;;oBACK,QAAQ,GAAc,IAAI,CAAC,gBAAgB,uBAAS,EAAE,EAAA;gBAC1D,OAAO;oBACN,UAAU,EAAE,QAAQ,CAAC,UAAU,IAAI,CAAC;oBACpC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,IAAI,CAAC;oBAChC,mBAAmB,EAAE,QAAQ,CAAC,mBAAmB,IAAI,CAAC;oBACtD,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB,IAAI,CAAC;oBAClD,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB,IAAI,CAAC;oBAClD,oBAAoB,EAAE,QAAQ,CAAC,oBAAoB,IAAI,CAAC;oBACxD,kBAAkB,EAAE,QAAQ,CAAC,kBAAkB,IAAI,CAAC;iBACpD,CAAC;aACF;;;WAAA;QAMD,sBACW,gEAA0B;;;;YADrC;gBAEC,OAAO,IAAI,CAAC,2BAA2B,CAAC;aACxC;;;;;YACD,UAAsC,KAAc;gBACnD,IAAI,IAAI,CAAC,2BAA2B,KAAK,KAAK,EAAE;oBAC/C,OAAO;iBACP;gBAED,IAAI,CAAC,2BAA2B,GAAG,KAAK,CAAC;gBACzC,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC;gBACvC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;aACxC;;;WATA;QA6CD,sBACW,kDAAY;;;;YADvB;gBAEC,IAAI,QAAQ,IAAI,CAAC,aAAa,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,EAAE;oBACxE,OAAO,IAAI,CAAC,aAAa,CAAC;iBAC1B;qBAAM;oBACN,OAAO,IAAI,CAAC,0BAA0B,GAAG,CAAC,GAAG,CAAC,CAAC;iBAC/C;aACD;;;;;YACD,UAAwB,KAAa;gBACpC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;aAC3B;;;WAHA;QAYD,sBACW,0DAAoB;;;;YAD/B;gBAEC,OAAO,IAAI,CAAC,qBAAqB,CAAC;aAClC;;;;;YACD,UAAgC,KAAa;gBAC5C,IAAI,CAAC,qBAAqB,GAAG,KAAK,CAAC;gBACnC,IAAI,CAAC,sBAAsB,EAAE,CAAC;aAC9B;;;WAJA;QAOD,sBACW,wDAAkB;;;;YAD7B;gBAEC,OAAO,IAAI,CAAC,mBAAmB,CAAC;aAChC;;;;;YACD,UAA8B,KAAa;gBAC1C,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;gBACjC,IAAI,CAAC,sBAAsB,EAAE,CAAC;aAC9B;;;WAJA;;;;;QAOS,yDAAsB;;;;QAAhC;YAAA,mBAgBC;YAfA,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC5B,IAAI,CAAC,QAAQ,sBAAQ,IAAI,CAAC,QAAQ;;;gBAAC;oBAClC,OAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iBAC7B,GAAE,IAAI,CAAC,kBAAkB,CAAC,EAAA,CAAC;aAC5B;iBACI,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBACnC,IAAI,CAAC,QAAQ,sBAAQ,IAAI,CAAC,gBAAgB;;;gBAAC;oBAC1C,OAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iBAC7B,GAAE,IAAI,CAAC,oBAAoB,CAAC,EAAA,CAAC;aAC9B;iBACI;gBACJ,IAAI,CAAC,QAAQ;;;gBAAG;oBACf,OAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iBAC7B,CAAA,CAAC;aACF;SACD;QAID,sBACW,yDAAmB;;;;YAD9B;gBAEC,OAAO,IAAI,CAAC,oBAAoB,CAAC;aACjC;;;;;YACD,UAA+B,KAAa;gBAC3C,IAAI,IAAI,CAAC,oBAAoB,KAAK,KAAK,EAAE;oBACxC,OAAO;iBACP;gBAED,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;gBAClC,IAAI,CAAC,sBAAsB,EAAE,CAAC;aAC9B;;;WARA;QAWD,sBACW,2CAAK;;;;YADhB;gBAEC,OAAO,IAAI,CAAC,MAAM,CAAC;aACnB;;;;;YACD,UAAiB,KAAY;gBAC5B,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,EAAE;oBAC1B,OAAO;iBACP;gBAED,IAAI,CAAC,MAAM,GAAG,KAAK,IAAI,EAAE,CAAC;gBAC1B,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;aAC5B;;;WARA;QAcD,sBACW,gDAAU;;;;YADrB;gBAEC,OAAO,IAAI,CAAC,WAAW,CAAC;aACxB;;;;;YACD,UAAsB,KAAc;gBACnC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,eAAe,EAAE,CAAC;aACvB;;;WAJA;;;;;QAMS,yDAAsB;;;;QAAhC;;gBACO,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;YAC7C,IAAI,aAAa,IAAI,IAAI,CAAC,uBAAuB,EAAE;gBAClD,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;gBACnE,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;aACnE;YAED,IAAI,CAAC,uBAAuB,GAAG,SAAS,CAAC;SACzC;QAID,sBACW,kDAAY;;;;YADvB;gBAEC,OAAO,IAAI,CAAC,aAAa,CAAC;aAC1B;;;;;YACD,UAAwB,KAAuB;gBAC9C,IAAI,IAAI,CAAC,aAAa,KAAK,KAAK,EAAE;oBACjC,OAAO;iBACP;gBAED,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBAC9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;gBAC3B,IAAI,CAAC,sBAAsB,EAAE,CAAC;;oBAExB,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;gBAC7C,IAAI,IAAI,CAAC,iCAAiC,IAAI,aAAa,KAAK,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE;oBAC3F,IAAI,CAAC,uBAAuB,GAAG,EAAE,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,EAAE,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC;oBAC9G,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,SAAS,GAAG,MAAM,CAAC;oBACzE,aAAa,CAAC,KAAK,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,MAAM,GAAG,SAAS,CAAC;iBACzE;aACD;;;WAhBA;;;;QA0CM,2CAAQ;;;QAAf;YACC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC9B;;;;QAEM,8CAAW;;;QAAlB;YACC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,sBAAsB,EAAE,CAAC;SAC9B;;;;;QAEM,8CAAW;;;;QAAlB,UAAmB,OAAY;;gBAC1B,kBAAkB,GAAG,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM;YACrE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;;gBAErC,QAAQ,GAAY,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,IAAI,OAAO,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC;YACpH,IAAI,CAAC,gBAAgB,CAAC,kBAAkB,IAAI,QAAQ,CAAC,CAAC;SACtD;;;;QAGM,4CAAS;;;QAAhB;YACC,IAAI,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBACjD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;gBAC3C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBAC5B,OAAO;aACP;YAED,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE;;oBAC7E,iBAAiB,GAAG,KAAK;gBAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACnD,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE;wBAC1G,iBAAiB,GAAG,IAAI,CAAC;wBACzB,MAAM;qBACN;iBACD;gBACD,IAAI,iBAAiB,EAAE;oBACtB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;iBAC5B;aACD;SACD;;;;QAEM,0CAAO;;;QAAd;YACC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;SAC5B;;;;QAEM,kEAA+B;;;QAAtC;YACC,IAAI,CAAC,mBAAmB,GAAG;gBAC1B,wBAAwB,EAAE,EAAE;gBAC5B,gCAAgC,EAAE,CAAC;gBACnC,8BAA8B,EAAE,CAAC;gBACjC,+BAA+B,EAAE,CAAC;aAClC,CAAC;YAEF,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC;YACvC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;YAExC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC7B;;;;;QAEM,qEAAkC;;;;QAAzC,UAA0C,IAAS;YAClD,IAAI,IAAI,CAAC,0BAA0B,EAAE;;oBAChC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;gBAClD,IAAI,KAAK,IAAI,CAAC,EAAE;oBACf,IAAI,CAAC,kCAAkC,CAAC,KAAK,CAAC,CAAC;iBAC/C;aACD;iBAAM;gBACN,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC;gBACvC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;aACxC;YAED,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC7B;;;;;QAEM,qEAAkC;;;;QAAzC,UAA0C,KAAa;YACtD,IAAI,IAAI,CAAC,0BAA0B,EAAE;;oBAChC,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,KAAK,CAAC;gBAChF,IAAI,iBAAiB,EAAE;oBACtB,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;oBACrE,EAAE,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC;oBAC5D,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,IAAI,iBAAiB,CAAC,UAAU,IAAI,CAAC,CAAC;oBAC7F,IAAI,CAAC,mBAAmB,CAAC,+BAA+B,IAAI,iBAAiB,CAAC,WAAW,IAAI,CAAC,CAAC;iBAC/F;aACD;iBAAM;gBACN,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC;gBACvC,IAAI,CAAC,sBAAsB,GAAG,SAAS,CAAC;aACxC;YAED,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC7B;;;;;;;;;QAEM,6CAAU;;;;;;;;QAAjB,UAAkB,IAAS,EAAE,gBAAgC,EAAE,gBAA4B,EAAE,qBAAyC,EAAE,0BAAkD;YAA7J,iCAAA,EAAA,uBAAgC;YAAE,iCAAA,EAAA,oBAA4B;YAAE,sCAAA,EAAA,iCAAyC;YAAE,2CAAA,EAAA,sCAAkD;;gBACrL,KAAK,GAAW,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YAC5C,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;gBACjB,OAAO;aACP;YAED,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,0BAA0B,CAAC,CAAC;SACjH;;;;;;;;;QAEM,gDAAa;;;;;;;;QAApB,UAAqB,KAAa,EAAE,gBAAgC,EAAE,gBAA4B,EAAE,qBAAyC,EAAE,0BAAkD;YAAjM,mBAyBC;YAzBmC,iCAAA,EAAA,uBAAgC;YAAE,iCAAA,EAAA,oBAA4B;YAAE,sCAAA,EAAA,iCAAyC;YAAE,2CAAA,EAAA,sCAAkD;;gBAC5L,UAAU,GAAW,CAAC;;gBAEtB,aAAa;;;YAAG;gBACnB,EAAE,UAAU,CAAC;gBACb,IAAI,UAAU,IAAI,CAAC,EAAE;oBACpB,IAAI,0BAA0B,EAAE;wBAC/B,0BAA0B,EAAE,CAAC;qBAC7B;oBACD,OAAO;iBACP;;oBAEG,UAAU,GAAG,OAAI,CAAC,mBAAmB,EAAE;;oBACvC,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;gBAC9E,IAAI,OAAI,CAAC,gBAAgB,CAAC,UAAU,KAAK,iBAAiB,EAAE;oBAC3D,IAAI,0BAA0B,EAAE;wBAC/B,0BAA0B,EAAE,CAAC;qBAC7B;oBACD,OAAO;iBACP;gBAED,OAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;aACzF,CAAA;YAED,IAAI,CAAC,sBAAsB,CAAC,KAAK,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,aAAa,CAAC,CAAC;SAC7G;;;;;;;;;;QAES,yDAAsB;;;;;;;;;QAAhC,UAAiC,KAAa,EAAE,gBAAgC,EAAE,gBAA4B,EAAE,qBAAyC,EAAE,0BAAkD;YAA7J,iCAAA,EAAA,uBAAgC;YAAE,iCAAA,EAAA,oBAA4B;YAAE,sCAAA,EAAA,iCAAyC;YAAE,2CAAA,EAAA,sCAAkD;YAC5M,qBAAqB,GAAG,qBAAqB,KAAK,SAAS,GAAG,IAAI,CAAC,mBAAmB,GAAG,qBAAqB,CAAC;;gBAE3G,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE;;gBACvC,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,UAAU,CAAC,GAAG,gBAAgB;YACxE,IAAI,CAAC,gBAAgB,EAAE;gBACtB,MAAM,IAAI,UAAU,CAAC,iBAAiB,GAAG,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aAC1E;YAED,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,qBAAqB,EAAE,0BAA0B,CAAC,CAAC;SACjF;;;;;;;QAEM,mDAAgB;;;;;;QAAvB,UAAwB,cAAsB,EAAE,qBAAyC,EAAE,0BAAkD;YAA7I,mBAuDC;YAvD+C,sCAAA,EAAA,iCAAyC;YAAE,2CAAA,EAAA,sCAAkD;YAC5I,cAAc,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAE3C,qBAAqB,GAAG,qBAAqB,KAAK,SAAS,GAAG,IAAI,CAAC,mBAAmB,GAAG,qBAAqB,CAAC;;gBAE3G,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;;gBAEvC,gBAAwB;YAE5B,IAAI,IAAI,CAAC,YAAY,EAAE;gBACtB,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBACzB,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC;aAC9B;YAED,IAAI,CAAC,qBAAqB,EAAE;gBAC3B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;gBAC3E,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;gBACzD,OAAO;aACP;;gBAEK,cAAc,GAAG,EAAE,cAAc,EAAE,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE;;gBAEtE,QAAQ,GAAG,IAAIC,cAAW,CAAC,cAAc,CAAC;iBAC5C,EAAE,CAAC,EAAE,cAAc,gBAAA,EAAE,EAAE,qBAAqB,CAAC;iBAC7C,MAAM,CAACC,eAAY,CAAC,SAAS,CAAC,GAAG,CAAC;iBAClC,QAAQ;;;;YAAC,UAAC,IAAI;gBACd,IAAI,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE;oBAC/B,OAAO;iBACP;gBACD,OAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,aAAa,EAAE,OAAI,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;gBAChF,OAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;aAC7B,EAAC;iBACD,MAAM;;;YAAC;gBACP,oBAAoB,CAAC,gBAAgB,CAAC,CAAC;aACvC,EAAC;iBACD,KAAK,EAAE;;gBAEH,OAAO;;;;YAAG,UAAC,IAAa;gBAC7B,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,EAAE,EAAE;oBAC7B,OAAO;iBACP;gBAED,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACtB,IAAI,cAAc,CAAC,cAAc,KAAK,cAAc,EAAE;oBACrD,OAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,0BAA0B,CAAC,CAAC;oBACzD,OAAO;iBACP;gBAED,OAAI,CAAC,IAAI,CAAC,iBAAiB;;;gBAAC;oBAC3B,gBAAgB,GAAG,qBAAqB,CAAC,OAAO,CAAC,CAAC;iBAClD,EAAC,CAAC;aACH,CAAA;YAED,OAAO,EAAE,CAAC;YACV,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC;SAC7B;;;;;;QA4BS,iDAAc;;;;;QAAxB,UAAyB,OAAoB;;gBACxC,MAAM,GAAG,OAAO,CAAC,qBAAqB,EAAE;;gBACxC,MAAM,GAAG,gBAAgB,CAAC,OAAO,CAAC;;gBAClC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;;gBACnD,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;;gBACzD,UAAU,GAAG,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;;gBACrD,WAAW,GAAG,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC;YAE3D,OAAO;gBACN,GAAG,EAAE,MAAM,CAAC,GAAG,GAAG,SAAS;gBAC3B,MAAM,EAAE,MAAM,CAAC,MAAM,GAAG,YAAY;gBACpC,IAAI,EAAE,MAAM,CAAC,IAAI,GAAG,UAAU;gBAC9B,KAAK,EAAE,MAAM,CAAC,KAAK,GAAG,WAAW;gBACjC,KAAK,EAAE,MAAM,CAAC,KAAK,GAAG,UAAU,GAAG,WAAW;gBAC9C,MAAM,EAAE,MAAM,CAAC,MAAM,GAAG,SAAS,GAAG,YAAY;aAChD,CAAC;SACF;;;;;QAGS,4DAAyB;;;;QAAnC;;gBACK,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC;;gBAE3D,WAAoB;YACxB,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;gBACrC,WAAW,GAAG,IAAI,CAAC;aACnB;iBAAM;;oBACF,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC;;oBAClF,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC;gBACzF,WAAW,GAAG,WAAW,GAAG,IAAI,CAAC,4BAA4B,IAAI,YAAY,GAAG,IAAI,CAAC,4BAA4B,CAAC;aAClH;YAED,IAAI,WAAW,EAAE;gBAChB,IAAI,CAAC,0BAA0B,GAAG,YAAY,CAAC;gBAC/C,IAAI,YAAY,CAAC,KAAK,GAAG,CAAC,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;oBACtD,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;iBAC7B;aACD;SACD;;;;;QASS,kDAAe;;;;QAAzB;YACC,IAAI,IAAI,CAAC,UAAU,EAAE;gBACpB,IAAI,CAAC,yBAAyB,GAAG,OAAO,CAAC;gBACzC,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC;gBAChC,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC;gBACrC,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;gBACpC,IAAI,CAAC,UAAU,GAAG,aAAa,CAAC;gBAChC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;gBAClC,IAAI,CAAC,WAAW,GAAG,YAAY,CAAC;aAChC;iBACI;gBACJ,IAAI,CAAC,yBAAyB,GAAG,QAAQ,CAAC;gBAC1C,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;gBAC/B,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC;gBACrC,IAAI,CAAC,eAAe,GAAG,aAAa,CAAC;gBACrC,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;gBAClC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;aAC/B;SACD;;;;;;;QAES,2CAAQ;;;;;;QAAlB,UAAmB,IAAc,EAAE,IAAY;;gBACxC,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC;;gBAC7C,MAAM;;;YAAG;gBACd,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC;gBACtB,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;aACjC,CAAA;YACD,MAAM,CAAC,QAAQ,CAAC;;;YAAG;gBAClB,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC;aACtB,CAAA,CAAC;YAEF,OAAO,MAAM,CAAC;SACd;;;;;;;QAES,mDAAgB;;;;;;QAA1B,UAA2B,IAAc,EAAE,IAAY;;gBAClD,OAAO,GAAG,SAAS;;gBACnB,UAAU,GAAG,SAAS;;gBACpB,MAAM;;;YAAG;;oBACR,KAAK,GAAG,IAAI;gBAClB,UAAU,GAAG,SAAS,CAAA;gBAEtB,IAAI,OAAO,EAAE;oBACZ,OAAO;iBACP;gBAED,IAAI,IAAI,IAAI,CAAC,EAAE;oBACd,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;iBAC9B;qBAAM;oBACN,OAAO,GAAG,UAAU;;;oBAAC;wBACpB,OAAO,GAAG,SAAS,CAAC;wBACpB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;qBAC9B,GAAE,IAAI,CAAC,CAAC;iBACT;aACD,CAAA;YACD,MAAM,CAAC,QAAQ,CAAC;;;YAAG;gBAClB,IAAI,OAAO,EAAE;oBACZ,YAAY,CAAC,OAAO,CAAC,CAAC;oBACtB,OAAO,GAAG,SAAS,CAAC;iBACpB;aACD,CAAA,CAAC;YAEF,OAAO,MAAM,CAAC;SACd;;;;;;;;QAaS,mDAAgB;;;;;;;QAA1B,UAA2B,kBAA2B,EAAE,wBAAgD,EAAE,WAAuB;;;;;YAAjI,mBAwIC;YAxIuD,yCAAA,EAAA,oCAAgD;YAAE,4BAAA,EAAA,eAAuB;YAMhI,IAAI,kBAAkB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,CAAC,mBAAmB,GAAG,CAAC,EAAE;;;oBAE7F,aAAW,GAAG,IAAI,CAAC,gBAAgB;;oBACnC,kBAAgB,GAAG,IAAI,CAAC,aAAa;;oBAErC,6BAA2B,GAAG,wBAAwB;gBAC1D,wBAAwB;;;gBAAG;;wBACtB,iBAAiB,GAAG,OAAI,CAAC,gBAAgB,CAAC,YAAY,GAAG,aAAW,CAAC,YAAY;oBACrF,IAAI,iBAAiB,GAAG,CAAC,IAAI,OAAI,CAAC,aAAa,EAAE;;4BAC5C,cAAY,GAAG,kBAAgB,CAAC,CAAC,CAAC;;4BAClC,iBAAiB,GAAG,OAAI,CAAC,KAAK,CAAC,SAAS;;;;wBAAC,UAAA,CAAC,IAAI,OAAA,OAAI,CAAC,YAAY,CAAC,cAAY,EAAE,CAAC,CAAC,GAAA,EAAC;wBACrF,IAAI,iBAAiB,GAAG,OAAI,CAAC,gBAAgB,CAAC,oBAAoB,EAAE;;gCAC/D,gBAAgB,GAAG,KAAK;4BAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAI,CAAC,aAAa,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gCACnD,IAAI,CAAC,OAAI,CAAC,YAAY,CAAC,OAAI,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,CAAC,EAAE,kBAAgB,CAAC,CAAC,CAAC,CAAC,EAAE;oCAC/E,gBAAgB,GAAG,IAAI,CAAC;oCACxB,MAAM;iCACN;6BACD;4BAED,IAAI,CAAC,gBAAgB,EAAE;gCACtB,OAAI,CAAC,gBAAgB,CAAC,OAAI,CAAC,gBAAgB,CAAC,mBAAmB,GAAG,iBAAiB,EAAG,CAAC,EAAE,6BAA2B,CAAC,CAAC;gCACtH,OAAO;6BACP;yBACD;qBACD;oBAED,IAAI,6BAA2B,EAAE;wBAChC,6BAA2B,EAAE,CAAC;qBAC9B;iBACD,CAAA,CAAC;aACF;YAED,IAAI,CAAC,IAAI,CAAC,iBAAiB;;;YAAC;gBAC3B,qBAAqB;;;gBAAC;oBAErB,IAAI,kBAAkB,EAAE;wBACvB,OAAI,CAAC,wBAAwB,EAAE,CAAC;qBAChC;;wBACG,QAAQ,GAAG,OAAI,CAAC,iBAAiB,EAAE;;wBAEnC,YAAY,GAAG,kBAAkB,IAAI,QAAQ,CAAC,UAAU,KAAK,OAAI,CAAC,gBAAgB,CAAC,UAAU;;wBAC7F,UAAU,GAAG,kBAAkB,IAAI,QAAQ,CAAC,QAAQ,KAAK,OAAI,CAAC,gBAAgB,CAAC,QAAQ;;wBACvF,mBAAmB,GAAG,QAAQ,CAAC,YAAY,KAAK,OAAI,CAAC,gBAAgB,CAAC,YAAY;;wBAClF,cAAc,GAAG,QAAQ,CAAC,OAAO,KAAK,OAAI,CAAC,gBAAgB,CAAC,OAAO;;wBACnE,qBAAqB,GAAG,QAAQ,CAAC,mBAAmB,KAAK,OAAI,CAAC,gBAAgB,CAAC,mBAAmB,IAAI,QAAQ,CAAC,iBAAiB,KAAK,OAAI,CAAC,gBAAgB,CAAC,iBAAiB,IAAI,QAAQ,CAAC,iBAAiB,KAAK,OAAI,CAAC,gBAAgB,CAAC,iBAAiB;oBAE1P,OAAI,CAAC,gBAAgB,GAAG,QAAQ,CAAC;oBAEjC,IAAI,mBAAmB,EAAE;wBACxB,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,0BAA0B,CAAC,aAAa,EAAE,OAAI,CAAC,yBAAyB,EAAK,QAAQ,CAAC,YAAY,OAAI,CAAC,CAAC;qBACpI;oBAED,IAAI,cAAc,EAAE;wBACnB,IAAI,OAAI,CAAC,2BAA2B,EAAE;4BACrC,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,OAAI,CAAC,UAAU,EAAK,QAAQ,CAAC,OAAO,OAAI,CAAC,CAAC;yBACvG;6BACI;4BACJ,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,WAAW,EAAK,OAAI,CAAC,aAAa,SAAI,QAAQ,CAAC,OAAO,QAAK,CAAC,CAAC;4BAC1H,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,iBAAiB,EAAK,OAAI,CAAC,aAAa,SAAI,QAAQ,CAAC,OAAO,QAAK,CAAC,CAAC;yBAChI;qBACD;oBAED,IAAI,OAAI,CAAC,gBAAgB,EAAE;;4BACtB,cAAc,GAAG,OAAI,CAAC,gBAAgB,EAAE,CAAC,OAAI,CAAC,WAAW,CAAC;;4BAC1D,eAAe,GAAG,OAAI,CAAC,iBAAiB,EAAE;;4BAC1C,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG,QAAQ,CAAC,OAAO,GAAG,eAAe,GAAG,OAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,CAAC;wBAChI,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,WAAW,EAAK,OAAI,CAAC,aAAa,SAAI,MAAM,QAAK,CAAC,CAAC;wBAC/G,OAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,iBAAiB,EAAK,OAAI,CAAC,aAAa,SAAI,MAAM,QAAK,CAAC,CAAC;qBACrH;;wBAEK,cAAc,GAAc,CAAC,YAAY,IAAI,UAAU,IAAI;wBAChE,UAAU,EAAE,QAAQ,CAAC,UAAU;wBAC/B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;wBAC3B,mBAAmB,EAAE,QAAQ,CAAC,mBAAmB;wBACjD,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB;wBAC7C,oBAAoB,EAAE,QAAQ,CAAC,oBAAoB;wBACnD,kBAAkB,EAAE,QAAQ,CAAC,kBAAkB;wBAC/C,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB;qBAC7C,GAAG,SAAS;oBAGb,IAAI,YAAY,IAAI,UAAU,IAAI,qBAAqB,EAAE;;4BAClD,aAAa;;;wBAAG;;4BAErB,OAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,oBAAoB,IAAI,CAAC,IAAI,QAAQ,CAAC,kBAAkB,IAAI,CAAC,GAAG,OAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,oBAAoB,EAAE,QAAQ,CAAC,kBAAkB,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;4BACpL,OAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAI,CAAC,aAAa,CAAC,CAAC;4BAEvC,IAAI,YAAY,EAAE;gCACjB,OAAI,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;6BAClC;4BAED,IAAI,UAAU,EAAE;gCACf,OAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;6BAChC;4BAED,IAAI,YAAY,IAAI,UAAU,EAAE;gCAC/B,OAAI,CAAC,iBAAiB,CAAC,YAAY,EAAE,CAAC;gCACtC,OAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;6BACnC;4BAED,IAAI,WAAW,GAAG,CAAC,EAAE;gCACpB,OAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,wBAAwB,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;gCACxE,OAAO;6BACP;4BAED,IAAI,wBAAwB,EAAE;gCAC7B,wBAAwB,EAAE,CAAC;6BAC3B;yBACD,CAAA;wBAGD,IAAI,OAAI,CAAC,gCAAgC,EAAE;4BAC1C,aAAa,EAAE,CAAC;yBAChB;6BACI;4BACJ,OAAI,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;yBAC7B;qBACD;yBAAM;wBACN,IAAI,WAAW,GAAG,CAAC,KAAK,mBAAmB,IAAI,cAAc,CAAC,EAAE;4BAC/D,OAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,wBAAwB,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;4BACxE,OAAO;yBACP;wBAED,IAAI,wBAAwB,EAAE;4BAC7B,wBAAwB,EAAE,CAAC;yBAC3B;qBACD;iBACD,EAAC,CAAC;aACH,EAAC,CAAC;SACH;;;;;QAES,mDAAgB;;;;QAA1B;YACC,OAAO,IAAI,CAAC,YAAY,YAAY,MAAM,GAAG,QAAQ,CAAC,gBAAgB,IAAI,QAAQ,CAAC,eAAe,IAAI,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;SACtK;;;;;QAES,yDAAsB;;;;QAAhC;YAAA,mBAqBC;YApBA,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC/B,OAAO;aACP;;gBAEG,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;YAE3C,IAAI,CAAC,yBAAyB,EAAE,CAAC;YAEjC,IAAI,CAAC,IAAI,CAAC,iBAAiB;;;YAAC;gBAC3B,IAAI,OAAI,CAAC,YAAY,YAAY,MAAM,EAAE;oBACxC,OAAI,CAAC,oBAAoB,GAAG,OAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAI,CAAC,QAAQ,CAAC,CAAC;oBACpF,OAAI,CAAC,oBAAoB,GAAG,OAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,EAAE,OAAI,CAAC,QAAQ,CAAC,CAAC;iBACpF;qBACI;oBACJ,OAAI,CAAC,oBAAoB,GAAG,OAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,EAAE,QAAQ,EAAE,OAAI,CAAC,QAAQ,CAAC,CAAC;oBACzF,IAAI,OAAI,CAAC,oBAAoB,GAAG,CAAC,EAAE;wBAClC,OAAI,CAAC,8BAA8B,sBAAQ,WAAW;;;wBAAC,cAAQ,OAAI,CAAC,yBAAyB,EAAE,CAAC,EAAE,GAAE,OAAI,CAAC,oBAAoB,CAAC,EAAA,CAAC;qBAC/H;iBACD;aACD,EAAC,CAAC;SACH;;;;;QAES,4DAAyB;;;;QAAnC;YACC,IAAI,IAAI,CAAC,8BAA8B,EAAE;gBACxC,aAAa,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;aACnD;YAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;aACtC;YAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;gBAC9B,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC5B,IAAI,CAAC,oBAAoB,GAAG,SAAS,CAAC;aACtC;SACD;;;;;QAES,oDAAiB;;;;QAA3B;YACC,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC/B,OAAO,CAAC,CAAC;aACT;;gBAEG,MAAM,GAAG,CAAC;YAEd,IAAI,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,aAAa,EAAE;gBACvE,MAAM,IAAI,IAAI,CAAC,mBAAmB,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;aACnE;YAED,IAAI,IAAI,CAAC,YAAY,EAAE;;oBAClB,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;;oBACvC,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;;oBACnE,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;gBACzD,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,MAAM,IAAI,iBAAiB,CAAC,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC;iBACzD;qBACI;oBACJ,MAAM,IAAI,iBAAiB,CAAC,GAAG,GAAG,gBAAgB,CAAC,GAAG,CAAC;iBACvD;gBAED,IAAI,EAAE,IAAI,CAAC,YAAY,YAAY,MAAM,CAAC,EAAE;oBAC3C,MAAM,IAAI,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC1C;aACD;YAED,OAAO,MAAM,CAAC;SACd;;;;;QAES,yDAAsB;;;;QAAhC;YACC,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC/B,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;aAC/H;;gBAEG,YAAY,GAAG,IAAI,CAAC,UAAU,GAAG,YAAY,GAAG,WAAW;;gBAC3D,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,aAAa,KAAK,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,QAAQ;;gBAElI,cAAc,GAAG,QAAQ,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC;YACnD,IAAI,cAAc,KAAK,CAAC,EAAE;gBACzB,OAAO,CAAC,CAAC;aACT;;gBAEG,WAAW,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;;gBACvC,MAAM,GAAG,CAAC;YACd,OAAO,MAAM,GAAG,cAAc,IAAI,WAAW,KAAK,QAAQ,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE;gBACjF,EAAE,MAAM,CAAC;aACT;YAED,OAAO,MAAM,CAAC;SACd;;;;;QAES,yDAAsB;;;;QAAhC;;gBACK,iBAAiB,GAAG,SAAS;YACjC,IAAI,IAAI,CAAC,YAAY,YAAY,MAAM,EAAE;gBACxC,iBAAiB,GAAG,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;aACjD;YAED,OAAO,iBAAiB,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC3E;;;;;QAOS,2DAAwB;;;;QAAlC;;gBACO,sBAAsB,GAAG,IAAI,CAAC,mBAAmB;YACvD,IAAI,CAAC,+BAA+B,EAAE,CAAC;YAEvC,IAAI,CAAC,IAAI,CAAC,0BAA0B,IAAI,CAAC,sBAAsB,IAAI,sBAAsB,CAAC,gCAAgC,KAAK,CAAC,EAAE;gBACjI,OAAO;aACP;;gBAEK,iBAAiB,GAAW,IAAI,CAAC,sBAAsB,EAAE;YAC/D,KAAK,IAAI,cAAc,GAAG,CAAC,EAAE,cAAc,GAAG,sBAAsB,CAAC,wBAAwB,CAAC,MAAM,EAAE,EAAE,cAAc,EAAE;;oBACjH,qBAAqB,GAAuB,sBAAsB,CAAC,wBAAwB,CAAC,cAAc,CAAC;gBACjH,IAAI,CAAC,qBAAqB,IAAI,CAAC,qBAAqB,CAAC,KAAK,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,MAAM,EAAE;oBAClG,SAAS;iBACT;gBAED,IAAI,qBAAqB,CAAC,KAAK,CAAC,MAAM,KAAK,iBAAiB,EAAE;oBAC7D,OAAO;iBACP;;oBAEG,YAAY,GAAG,KAAK;;oBACpB,eAAe,GAAG,iBAAiB,GAAG,cAAc;gBACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,iBAAiB,EAAE,EAAE,CAAC,EAAE;oBAC3C,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,CAAC,CAAC,EAAE;wBACxF,YAAY,GAAG,IAAI,CAAC;wBACpB,MAAM;qBACN;iBACD;gBAED,IAAI,CAAC,YAAY,EAAE;oBAClB,EAAE,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC;oBAC5D,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,IAAI,qBAAqB,CAAC,UAAU,IAAI,CAAC,CAAC;oBACjG,IAAI,CAAC,mBAAmB,CAAC,+BAA+B,IAAI,qBAAqB,CAAC,WAAW,IAAI,CAAC,CAAC;oBACnG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG,qBAAqB,CAAC;iBAC1F;aACD;SACD;;;;;QAES,sDAAmB;;;;QAA7B;;gBACK,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE;;gBAErC,0BAA0B,GAAW,EAAE;YAC7C,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,EAAE,0BAA0B,CAAC,EAAE,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACzK,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,WAAW,GAAG,aAAa,CAAC,WAAW,EAAE,0BAA0B,CAAC,EAAE,IAAI,CAAC,wBAAwB,CAAC,CAAC;;gBAEjK,aAAa,GAAG,aAAa,CAAC,WAAW,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI,CAAC,wBAAwB,KAAK,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,0BAA0B,CAAC,CAAC;;gBACxJ,cAAc,GAAG,aAAa,CAAC,YAAY,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,yBAAyB,KAAK,IAAI,CAAC,UAAU,GAAG,0BAA0B,GAAG,CAAC,CAAC,CAAC;;gBAE5J,OAAO,GAAG,CAAC,IAAI,CAAC,mBAAmB,IAAI,IAAI,CAAC,mBAAmB,CAAC,aAAa,KAAK,IAAI,CAAC,iBAAiB,CAAC,aAAa;;gBAEtH,iBAAiB,GAAG,IAAI,CAAC,sBAAsB,EAAE;;gBACjD,iBAAiB;;gBAEjB,iBAAiB;;gBACjB,kBAAkB;YAEtB,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC/B,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC;gBACtC,cAAc,GAAG,IAAI,CAAC,iBAAiB,CAAC;gBACxC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;gBACvC,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC;;oBACrC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC,EAAE,CAAC,CAAC;;oBACvE,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBAC7E,iBAAiB,GAAG,IAAI,CAAC,UAAU,GAAG,WAAW,GAAG,WAAW,CAAC;aAChE;iBACI,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;gBAC1C,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;oBAChC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;wBAC1C,IAAI,CAAC,IAAI,CAAC,qBAAqB,IAAI,aAAa,GAAG,CAAC,EAAE;4BACrD,IAAI,CAAC,qBAAqB,GAAG,aAAa,CAAC;yBAC3C;wBACD,IAAI,CAAC,IAAI,CAAC,sBAAsB,IAAI,cAAc,GAAG,CAAC,EAAE;4BACvD,IAAI,CAAC,sBAAsB,GAAG,cAAc,CAAC;yBAC7C;qBACD;;wBAEG,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;;wBAC3B,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;oBAC3C,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;oBACpF,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;iBACvF;gBAED,iBAAiB,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,qBAAqB,IAAI,aAAa,CAAC;gBACnF,kBAAkB,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,sBAAsB,IAAI,cAAc,CAAC;;oBACnF,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,GAAG,iBAAiB,CAAC,EAAE,CAAC,CAAC;;oBACvE,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,EAAE,CAAC,CAAC;gBAC7E,iBAAiB,GAAG,IAAI,CAAC,UAAU,GAAG,WAAW,GAAG,WAAW,CAAC;aAChE;iBAAM;;oBACF,YAAY,GAAG,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,CAAC,OAAO,GAAG,CAAC,CAAC;;oBAE5G,eAAe,GAAG,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,IAAI,CAAC;;oBACjE,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,iBAAiB,CAAC;;oBAE/D,oBAAoB,GAAG,CAAC;;oBACxB,qBAAqB,GAAG,CAAC;;oBACzB,qBAAqB,GAAG,CAAC;;oBACzB,sBAAsB,GAAG,CAAC;gBAC9B,iBAAiB,GAAG,CAAC,CAAC;gBAEtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;oBACjD,EAAE,eAAe,CAAC;;wBACd,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC;;wBAC3B,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;oBAE3C,oBAAoB,GAAG,IAAI,CAAC,GAAG,CAAC,oBAAoB,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;oBACxE,qBAAqB,GAAG,IAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,UAAU,CAAC,MAAM,CAAC,CAAC;oBAE3E,IAAI,eAAe,GAAG,iBAAiB,KAAK,CAAC,EAAE;;4BAC1C,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,cAAc,CAAC;wBAChF,IAAI,QAAQ,EAAE;4BACb,EAAE,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC;4BAC5D,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,IAAI,QAAQ,CAAC,UAAU,IAAI,CAAC,CAAC;4BACpF,IAAI,CAAC,mBAAmB,CAAC,+BAA+B,IAAI,QAAQ,CAAC,WAAW,IAAI,CAAC,CAAC;yBACtF;wBAED,EAAE,IAAI,CAAC,mBAAmB,CAAC,gCAAgC,CAAC;;4BACtD,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,iBAAiB,EAAE,eAAe,CAAC;wBACpF,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,cAAc,CAAC,GAAG;4BACnE,UAAU,EAAE,oBAAoB;4BAChC,WAAW,EAAE,qBAAqB;4BAClC,KAAK,EAAE,KAAK;yBACZ,CAAC;wBACF,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,IAAI,oBAAoB,CAAC;wBAChF,IAAI,CAAC,mBAAmB,CAAC,+BAA+B,IAAI,qBAAqB,CAAC;wBAElF,IAAI,IAAI,CAAC,UAAU,EAAE;;gCAChB,2BAA2B,GAAG,IAAI,CAAC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,qBAAqB,EAAE,CAAC,CAAC,CAAC;4BACpH,IAAI,YAAY,GAAG,CAAC,EAAE;;oCACjB,oBAAoB,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,2BAA2B,CAAC;gCAC9E,2BAA2B,IAAI,oBAAoB,CAAC;gCACpD,YAAY,IAAI,oBAAoB,CAAC;6BACrC;4BAED,qBAAqB,IAAI,2BAA2B,CAAC;4BACrD,IAAI,2BAA2B,GAAG,CAAC,IAAI,aAAa,IAAI,qBAAqB,EAAE;gCAC9E,EAAE,iBAAiB,CAAC;6BACpB;yBACD;6BAAM;;gCACF,4BAA4B,GAAG,IAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG,sBAAsB,EAAE,CAAC,CAAC,CAAC;4BACxH,IAAI,YAAY,GAAG,CAAC,EAAE;;oCACjB,oBAAoB,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,4BAA4B,CAAC;gCAC/E,4BAA4B,IAAI,oBAAoB,CAAC;gCACrD,YAAY,IAAI,oBAAoB,CAAC;6BACrC;4BAED,sBAAsB,IAAI,4BAA4B,CAAC;4BACvD,IAAI,4BAA4B,GAAG,CAAC,IAAI,cAAc,IAAI,sBAAsB,EAAE;gCACjF,EAAE,iBAAiB,CAAC;6BACpB;yBACD;wBAED,EAAE,cAAc,CAAC;wBAEjB,oBAAoB,GAAG,CAAC,CAAC;wBACzB,qBAAqB,GAAG,CAAC,CAAC;qBAC1B;iBACD;;oBAEG,iBAAiB,GAAG,IAAI,CAAC,mBAAmB,CAAC,8BAA8B,GAAG,IAAI,CAAC,mBAAmB,CAAC,gCAAgC;;oBACvI,kBAAkB,GAAG,IAAI,CAAC,mBAAmB,CAAC,+BAA+B,GAAG,IAAI,CAAC,mBAAmB,CAAC,gCAAgC;gBAC7I,iBAAiB,GAAG,IAAI,CAAC,UAAU,IAAI,iBAAiB,IAAI,aAAa,CAAC;gBAC1E,kBAAkB,GAAG,IAAI,CAAC,WAAW,IAAI,kBAAkB,IAAI,cAAc,CAAC;gBAE9E,IAAI,IAAI,CAAC,UAAU,EAAE;oBACpB,IAAI,aAAa,GAAG,qBAAqB,EAAE;wBAC1C,iBAAiB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,GAAG,qBAAqB,IAAI,iBAAiB,CAAC,CAAC;qBAC5F;iBACD;qBAAM;oBACN,IAAI,cAAc,GAAG,sBAAsB,EAAE;wBAC5C,iBAAiB,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,cAAc,GAAG,sBAAsB,IAAI,kBAAkB,CAAC,CAAC;qBAC/F;iBACD;aACD;;gBAEG,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM;;gBAC7B,YAAY,GAAG,iBAAiB,GAAG,iBAAiB;;gBACpD,oBAAoB,GAAG,SAAS,GAAG,YAAY;;gBAC/C,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,iBAAiB,CAAC;;gBAE7D,YAAY,GAAG,CAAC;;gBAEhB,+BAA+B,GAAG,IAAI,CAAC,UAAU,GAAG,iBAAiB,GAAG,kBAAkB;YAC9F,IAAI,IAAI,CAAC,0BAA0B,EAAE;;oBAChC,oBAAoB,GAAG,CAAC;gBAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,EAAE,CAAC,EAAE;;wBACxC,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;oBAClJ,IAAI,SAAS,EAAE;wBACd,YAAY,IAAI,SAAS,CAAC;qBAC1B;yBAAM;wBACN,EAAE,oBAAoB,CAAC;qBACvB;iBACD;gBAED,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,oBAAoB,GAAG,+BAA+B,CAAC,CAAC;aACnF;iBAAM;gBACN,YAAY,GAAG,kBAAkB,GAAG,+BAA+B,CAAC;aACpE;YAED,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC1B,YAAY,IAAI,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,CAAC;aACjE;;gBAEG,cAAc,GAAG,IAAI,CAAC,UAAU,GAAG,aAAa,GAAG,cAAc;;gBACjE,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,GAAG,cAAc,EAAE,CAAC,CAAC;YAElE,OAAO;gBACN,SAAS,EAAE,SAAS;gBACpB,iBAAiB,EAAE,iBAAiB;gBACpC,iBAAiB,EAAE,iBAAiB;gBACpC,YAAY,EAAE,YAAY;gBAC1B,oBAAoB,EAAE,oBAAoB;gBAC1C,UAAU,EAAE,iBAAiB;gBAC7B,WAAW,EAAE,kBAAkB;gBAC/B,YAAY,EAAE,YAAY;gBAC1B,cAAc,EAAE,cAAc;gBAC9B,iBAAiB,EAAE,iBAAiB;aACpC,CAAC;SACF;;;;;;;QAKS,mDAAgB;;;;;;QAA1B,UAA2B,yBAAiC,EAAE,UAAuB;YACpF,IAAI,UAAU,CAAC,SAAS,KAAK,CAAC,EAAE;gBAC/B,OAAO,CAAC,CAAC;aACT;;gBAEG,+BAA+B,GAAG,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC;;gBAClE,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,yBAAyB,GAAG,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC;YAEtG,IAAI,CAAC,IAAI,CAAC,0BAA0B,EAAE;gBACrC,OAAO,+BAA+B,GAAG,sBAAsB,CAAC;aAChE;;gBAEG,oBAAoB,GAAG,CAAC;;gBACxB,MAAM,GAAG,CAAC;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,sBAAsB,EAAE,EAAE,CAAC,EAAE;;oBAC5C,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;gBAClJ,IAAI,SAAS,EAAE;oBACd,MAAM,IAAI,SAAS,CAAC;iBACpB;qBAAM;oBACN,EAAE,oBAAoB,CAAC;iBACvB;aACD;YACD,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,oBAAoB,GAAG,+BAA+B,CAAC,CAAC;YAE7E,OAAO,MAAM,CAAC;SACd;;;;;;;QAES,oDAAiB;;;;;;QAA3B,UAA4B,cAAsB,EAAE,UAAuB;;gBACtE,gBAAgB,GAAG,CAAC;YACxB,IAAI,IAAI,CAAC,0BAA0B,EAAE;;oBAC9B,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,iBAAiB,CAAC;;oBACrF,mBAAmB,GAAG,CAAC;;oBACvB,+BAA+B,GAAG,UAAU,CAAC,IAAI,CAAC,eAAe,CAAC;gBACtE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,EAAE,EAAE,CAAC,EAAE;;wBACxC,SAAS,GAAG,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,mBAAmB,CAAC,wBAAwB,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC;oBAClJ,IAAI,SAAS,EAAE;wBACd,mBAAmB,IAAI,SAAS,CAAC;qBACjC;yBAAM;wBACN,mBAAmB,IAAI,+BAA+B,CAAC;qBACvD;oBAED,IAAI,cAAc,GAAG,mBAAmB,EAAE;wBACzC,gBAAgB,GAAG,CAAC,GAAG,kBAAkB,CAAC;wBAC1C,MAAM;qBACN;iBACD;aACD;iBAAM;gBACN,gBAAgB,GAAG,cAAc,GAAG,UAAU,CAAC,YAAY,CAAC;aAC5D;;gBAEG,6BAA6B,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,GAAG,UAAU,CAAC,oBAAoB,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,oBAAoB,CAAC,GAAG,UAAU,CAAC,YAAY;;gBAEpK,QAAQ,GAAG,UAAU,CAAC,SAAS,GAAG,UAAU,CAAC,YAAY,GAAG,CAAC;;gBAC7D,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,6BAA6B,CAAC,EAAE,QAAQ,CAAC;YACnF,eAAe,IAAI,eAAe,GAAG,UAAU,CAAC,iBAAiB,CAAC;YAElE,IAAI,IAAI,CAAC,YAAY,EAAE;;oBAClB,cAAc,GAAG,CAAC,GAAG,UAAU,CAAC,iBAAiB;gBACrD,IAAI,eAAe,GAAG,cAAc,KAAK,CAAC,EAAE;oBAC3C,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,GAAG,eAAe,GAAG,cAAc,EAAE,CAAC,CAAC,CAAC;iBAClF;aACD;;gBAEG,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,UAAU,CAAC,YAAY,GAAG,CAAC;;gBACtF,uBAAuB,GAAG,CAAC,aAAa,GAAG,CAAC,IAAI,UAAU,CAAC,iBAAiB;YAChF,IAAI,uBAAuB,GAAG,CAAC,EAAE;gBAChC,aAAa,IAAI,UAAU,CAAC,iBAAiB,GAAG,uBAAuB,CAAC;aACxE;YAED,IAAI,KAAK,CAAC,eAAe,CAAC,EAAE;gBAC3B,eAAe,GAAG,CAAC,CAAC;aACpB;YACD,IAAI,KAAK,CAAC,aAAa,CAAC,EAAE;gBACzB,aAAa,GAAG,CAAC,CAAC;aAClB;YAED,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;YACnF,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;;gBAE3E,UAAU,GAAG,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC,iBAAiB;;gBAC7D,oBAAoB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,GAAG,UAAU,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;;gBACpG,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,GAAG,UAAU,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,SAAS,GAAG,CAAC,CAAC;YAEpG,OAAO;gBACN,UAAU,EAAE,eAAe;gBAC3B,QAAQ,EAAE,aAAa;gBACvB,oBAAoB,EAAE,oBAAoB;gBAC1C,kBAAkB,EAAE,kBAAkB;gBACtC,mBAAmB,EAAE,cAAc;gBACnC,iBAAiB,EAAE,cAAc,GAAG,UAAU,CAAC,cAAc;gBAC7D,iBAAiB,EAAE,UAAU,CAAC,iBAAiB;aAC/C,CAAC;SACF;;;;;QAES,oDAAiB;;;;QAA3B;;gBACK,UAAU,GAAG,IAAI,CAAC,mBAAmB,EAAE;;gBACvC,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE;;gBAEjC,mBAAmB,GAAG,IAAI,CAAC,sBAAsB,EAAE;YACvD,IAAI,mBAAmB,IAAI,UAAU,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,YAAY,MAAM,CAAC,EAAE;gBACvG,mBAAmB,GAAG,UAAU,CAAC,YAAY,CAAC;aAC9C;iBAAM;gBACN,mBAAmB,IAAI,MAAM,CAAC;aAC9B;YACD,mBAAmB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,mBAAmB,CAAC,CAAC;;gBAEnD,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,UAAU,CAAC;;gBAClE,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,oBAAoB,EAAE,UAAU,CAAC;;gBAC7E,eAAe,GAAG,UAAU,CAAC,YAAY;YAE7C,OAAO;gBACN,UAAU,EAAE,QAAQ,CAAC,UAAU;gBAC/B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;gBAC3B,oBAAoB,EAAE,QAAQ,CAAC,oBAAoB;gBACnD,kBAAkB,EAAE,QAAQ,CAAC,kBAAkB;gBAC/C,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;gBAC/B,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC;gBACzC,mBAAmB,EAAE,QAAQ,CAAC,mBAAmB;gBACjD,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB;gBAC7C,iBAAiB,EAAE,QAAQ,CAAC,iBAAiB;aAC7C,CAAC;SACF;;oBAtsCDP,cAAS,SAAC;wBACV,QAAQ,EAAE,oCAAoC;wBAC9C,QAAQ,EAAE,iBAAiB;wBAC3B,QAAQ,EAAE,+JAKR;wBACF,IAAI,EAAE;4BACL,oBAAoB,EAAE,YAAY;4BAClC,kBAAkB,EAAE,aAAa;4BACjC,oBAAoB,EAAE,eAAe;yBACrC;iCACQ,u8BAoDP;qBACF;;;;oBA7HAP,eAAU;oBAWVe,cAAS;oBALTC,WAAM;oBAONC,sBAAiB;oBAyhBiB,MAAM,uBAAtCC,WAAM,SAACC,gBAAW;oDAClBC,aAAQ,YAAIF,WAAM,SAAC,kCAAkC;;;uDAxZtDf,UAAK;iDAILA,UAAK;kDAcLA,UAAK;wDAGLA,UAAK;mCAGLA,UAAK;qCAGLA,UAAK;sCAGLA,UAAK;iCAGLA,UAAK;kCAGLA,UAAK;oCAGLA,UAAK;qCAGLA,UAAK;uCAGLA,UAAK;wCAGLA,UAAK;mCAILA,UAAK;0CAYLA,UAAK;mDAGLA,UAAK;2CAILA,UAAK;yCAULA,UAAK;0CA8BLA,UAAK;4BAcLA,UAAK;mCAaLA,UAAK;iCAILA,UAAK;mCAqBLA,UAAK;+BAqBLF,WAAM;+BAGNA,WAAM;8BAGNA,WAAM;4BAGNA,WAAM;wCAGNoB,cAAS,SAAC,SAAS,EAAE,EAAE,IAAI,EAAErB,eAAU,EAAE,MAAM,EAAE,KAAK,EAAE;iDAGxDqB,cAAS,SAAC,kBAAkB,EAAE,EAAE,IAAI,EAAErB,eAAU,EAAE,MAAM,EAAE,KAAK,EAAE;uCAGjEQ,iBAAY,SAAC,QAAQ,EAAE,EAAE,IAAI,EAAER,eAAU,EAAE,MAAM,EAAE,KAAK,EAAE;0CAG1DQ,iBAAY,SAAC,WAAW,EAAE,EAAE,IAAI,EAAER,eAAU,EAAE,MAAM,EAAE,KAAK,EAAE;;QAq6B/D,+BAAC;KAvsCD,IAusCC;;QAED;SAWsC;;oBAXrCsB,aAAQ,SAAC;wBACT,OAAO,EAAE,CAAC,wBAAwB,CAAC;wBACnC,YAAY,EAAE,CAAC,wBAAwB,CAAC;wBACxC,OAAO,EAAE,CAACC,mBAAY,CAAC;wBACvB,SAAS,EAAE;4BACV;gCACC,OAAO,EAAE,kCAAkC;gCAC3C,UAAU,EAAE,wCAAwC;6BACpD;yBACD;qBACD;;QACoC,4BAAC;KAXtC;;;;;;ICtwCA;AAcA,QAAa,+BAA+B,GAAQ;QAChD,OAAO,EAAEC,uBAAiB;QAC1B,WAAW,EAAEC,eAAU;;;QAAC,cAAM,OAAA,kBAAkB,GAAA,EAAC;QACjD,KAAK,EAAE,IAAI;KACd;;AACD,QAAa,2BAA2B,GAAQ;QAC5C,OAAO,EAAEC,mBAAa;QACtB,WAAW,EAAED,eAAU;;;QAAC,cAAM,OAAA,kBAAkB,GAAA,EAAC;QACjD,KAAK,EAAE,IAAI;KACd;;QACK,IAAI;;;IAAG;KACZ,CAAA;;QA+IG,4BAAmB,WAAuB,EAAU,GAAsB,EAAU,EAAe;YAAnG,iBAQC;YARkB,gBAAW,GAAX,WAAW,CAAY;YAAU,QAAG,GAAH,GAAG,CAAmB;YAAU,OAAE,GAAF,EAAE,CAAa;YAxHnG,aAAQ,GAAsB,IAAI3B,iBAAY,EAAO,CAAC;YAGtD,eAAU,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAGxD,gBAAW,GAA6B,IAAIA,iBAAY,EAAc,CAAC;YAGvE,kBAAa,GAA6B,IAAIA,iBAAY,EAAc,CAAC;YAGzE,WAAM,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAGpD,YAAO,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAGrD,kBAAa,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAG3D,sBAAiB,GAA6B,IAAIA,iBAAY,EAAc,CAAC;YAG7E,wBAAmB,GAA6B,IAAIA,iBAAY,EAAc,CAAC;YAG/E,uBAAkB,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAGhE,kBAAa,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAG3D,oBAAe,GAAsB,IAAIA,iBAAY,EAAO,CAAC;YAiB7D,gBAAW,GAAQ,EAAE,CAAC;YACtB,gBAAW,GAAG,IAAIM,YAAO,EAAU,CAAC;YAI7B,aAAQ,GAAY,KAAK,CAAC;YAC1B,gBAAW,GAAY,KAAK,CAAC;YAC7B,sBAAiB,GAAY,KAAK,CAAC;YACnC,8BAAyB,GAAY,KAAK,CAAC;YAK3C,eAAU,GAAU,EAAE,CAAC;YACvB,gBAAW,GAAU,EAAE,CAAC;YACxB,qBAAgB,GAAU,EAAE,CAAC;YAE7B,eAAU,GAAQ,IAAI,CAAC;YASvB,iBAAY,GAAQ,CAAC,CAAC;YACtB,yBAAoB,GAAQ,CAAC,CAAC;YAG9B,wBAAmB,GAAW,CAAC,CAAC;YAEvC,oBAAe,GAAqB;gBAChC,eAAe,EAAE,KAAK;gBACtB,IAAI,EAAE,QAAQ;gBACd,cAAc,EAAE,IAAI;gBACpB,aAAa,EAAE,YAAY;gBAC3B,eAAe,EAAE,cAAc;gBAC/B,mBAAmB,EAAE,6BAA6B;gBAClD,qBAAqB,EAAE,+BAA+B;gBACtD,kBAAkB,EAAE,KAAK;gBACzB,QAAQ,EAAE,EAAE;gBACZ,SAAS,EAAE,GAAG;gBACd,cAAc,EAAE,YAAY;gBAC5B,OAAO,EAAE,EAAE;gBACX,QAAQ,EAAE,KAAK;gBACf,qBAAqB,EAAE,QAAQ;gBAC/B,YAAY,EAAE,IAAI;gBAClB,WAAW,EAAE,mBAAmB;gBAChC,eAAe,EAAE,IAAI;gBACrB,WAAW,EAAE,KAAK;gBAClB,QAAQ,EAAE,UAAU;gBACpB,UAAU,EAAE,IAAI;gBAChB,QAAQ,EAAE,QAAQ;gBAClB,YAAY,EAAE,IAAI;gBAClB,qBAAqB,EAAE,IAAI;gBAC3B,WAAW,EAAE,KAAK;gBAClB,kBAAkB,EAAE,KAAK;gBACzB,gBAAgB,EAAE,KAAK;gBACvB,aAAa,EAAE,IAAI;gBACnB,QAAQ,EAAE,IAAI;aACjB,CAAA;YACD,eAAU,GAAY,IAAI,CAAC;YAEpB,iBAAY,GAAQ,EAAE,CAAC;YAC9B,uBAAkB,GAAY,KAAK,CAAC;YAG7B,0BAAqB,GAAG,KAAK,CAAC;YA2H7B,sBAAiB,GAAqB,IAAI,CAAC;YAC3C,qBAAgB,GAAqB,IAAI,CAAC;YAzH9C,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,IAAI,CAChCuB,sBAAY,CAAC,IAAI,CAAC,EAClBC,8BAAoB,EAAE,EACtBC,aAAG;;;;YAAC,UAAA,IAAI,IAAI,OAAA,IAAI,GAAA,EAAC,CACpB,CAAC,SAAS;;;;YAAC,UAAA,GAAG;gBACX,KAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC;aAChC,EAAC,CAAC;SACN;;;;;QAnFD,yCAAY;;;;QADZ,UACa,KAAoB;YAC7B,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;gBAC7B,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;SACJ;;;;QAgFD,qCAAQ;;;QAAR;YAAA,iBA8BC;YA7BG,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAEnE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,KAAK,EAAE;gBACjC,UAAU;;;gBAAC;oBACP,KAAI,CAAC,kBAAkB,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;oBACrC,KAAI,CAAC,kBAAkB,CAAC,GAAG,GAAG,KAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,CAAC;iBAClF,EAAC,CAAC;aACN;YACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,SAAS;;;;YAAC,UAAA,IAAI;gBAChD,IAAI,IAAI,EAAE;;wBACF,KAAG,GAAG,CAAC;oBACX,IAAI,CAAC,OAAO;;;;;oBAAC,UAAC,GAAQ,EAAE,CAAM;wBAC1B,IAAI,GAAG,CAAC,QAAQ,EAAE;4BACd,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;yBACrC;wBACD,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;4BACjC,KAAG,EAAE,CAAC;yBACT;qBACJ,EAAC,CAAC;oBACH,KAAI,CAAC,YAAY,GAAG,KAAG,CAAC;oBACxB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;iBAC7B;aAEJ,EAAC,CAAC;YACH,UAAU;;;YAAC;gBACP,KAAI,CAAC,0BAA0B,EAAE,CAAC;aACrC,EAAC,CAAC;YACH,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;SACnC;;;;;QACD,wCAAW;;;;QAAX,UAAY,OAAsB;YAC9B,IAAI,OAAO,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE;gBAC3C,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;oBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;oBACxE,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;wBACvB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;qBAC3B;oBACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iBAC7D;gBACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjD;YACD,IAAI,OAAO,CAAC,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE;gBACnD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;aACtE;YACD,IAAI,OAAO,CAAC,OAAO,EAAE,CACpB;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,IAAI,CAAC,kBAAkB,IAAI,OAAO,CAAC,IAAI,EAAE;gBACtE,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC;aAChD;SACJ;;;;QACD,sCAAS;;;QAAT;YACI,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBACzG,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;iBAC5B;aACJ;SACJ;;;;QACD,4CAAe;;;QAAf;YACI,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAE9B;SACJ;;;;QACD,+CAAkB;;;QAAlB;YACI,IAAI,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,KAAK,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAChH,IAAI,CAAC,kBAAkB,CAAC,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,CAAC;gBAC/E,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;aAC5B;SACJ;;;;;;;QACD,wCAAW;;;;;;QAAX,UAAY,IAAS,EAAE,KAAa,EAAE,GAAU;YAC5C,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,OAAO,KAAK,CAAC;aAChB;YAED,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBACxB,OAAO,KAAK,CAAC;aAChB;;gBAEG,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;;gBAC7B,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,cAAc,GAAG,IAAI,GAAG,KAAK;YAEnF,IAAI,CAAC,KAAK,EAAE;gBACR,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE;oBAC9B,IAAI,KAAK,EAAE;wBACP,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;wBACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAC5B;iBACJ;qBACI;oBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC5B;aAEJ;iBACI;gBACD,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC9B;YACD,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBAClE,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;aAC5B;YAED,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE;gBAC/C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;aAC3B;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACvB,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;aAC9B;SACJ;;;;;QACM,qCAAQ;;;;QAAf,UAAgB,CAAc;YAC1B,OAAO,IAAI,CAAC;SACf;;;;;QAID,uCAAU;;;;QAAV,UAAW,KAAU;YACjB,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,EAAE,EAAE;gBACvD,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;oBAC/B,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;wBACxE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;wBAC1D,IAAI,CAAC,aAAa,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;qBACnC;yBAAM;wBACH,IAAI;4BAEA,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;gCAClB,IAAI,CAAC,aAAa,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gCAChC,MAAM,IAAI,WAAW,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,uEAAuE,EAAE,CAAC,CAAC;6BAClH;iCACI;gCACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;6BAC9B;yBACJ;wBACD,OAAO,CAAC,EAAE;4BACN,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;yBAC7B;qBACJ;iBAEJ;qBACI;oBACD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE;wBAC9B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;qBACrE;yBACI;wBACD,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;qBAC9B;oBACD,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;wBACxE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;qBAC3B;oBACD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;wBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;wBACxE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qBAC7D;iBACJ;aACJ;iBAAM;gBACH,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;aAC3B;SACJ;;;;;;;QAGD,6CAAgB;;;;;;QAAhB,UAAiB,EAAO;YACpB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;SAC9B;;;;;;;QAGD,8CAAiB;;;;;;QAAjB,UAAkB,EAAO;YACrB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;SAC/B;;;;;;QACD,sCAAS;;;;;QAAT,UAAU,KAAa,EAAE,IAAS;YAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;SACzC;;;;;QACD,uCAAU;;;;QAAV,UAAW,WAAgB;YAA3B,iBAWC;YAVG,IAAI,WAAW,CAAC,QAAQ,EAAE;gBACtB,OAAO,KAAK,CAAC;aAChB;;gBACG,KAAK,GAAG,KAAK;YACjB,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO;;;;YAAC,UAAA,IAAI;gBACjD,IAAI,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;oBAC1E,KAAK,GAAG,IAAI,CAAC;iBAChB;aACJ,EAAC,CAAC;YACH,OAAO,KAAK,CAAC;SAChB;;;;;QACD,wCAAW;;;;QAAX,UAAY,IAAS;YACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,OAAO;aACV;YACD,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;gBAC/B,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC9B,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;;gBAEG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC1C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC9C;;;;;QACD,2CAAc;;;;QAAd,UAAe,WAAgB;YAA/B,iBAQC;YAPG,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO;;;;YAAC,UAAA,IAAI;gBACjD,IAAI,WAAW,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,KAAK,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAE;oBAC1E,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;iBAClE;aACJ,EAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YAC1C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC9C;;;;;QACD,2CAAc;;;;QAAd,UAAe,GAAQ;YAAvB,iBAwBC;YAvBG,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBACxB,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC/B,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;oBAC5G,UAAU;;;oBAAC;wBACP,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;qBAC1C,GAAE,CAAC,CAAC,CAAC;iBACT;gBACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1B;iBACI;gBACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B;YACD,UAAU;;;YAAC;gBACP,KAAI,CAAC,0BAA0B,EAAE,CAAC;aACrC,GAAE,CAAC,CAAC,CAAC;YACN,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;gBAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC7B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;aAClC;YACD,GAAG,CAAC,cAAc,EAAE,CAAC;SACxB;;;;QACM,yCAAY;;;QAAnB;YAAA,iBAWC;YAVG,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE;gBACxB,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBAC5G,UAAU;;;gBAAC;oBACP,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;iBAC1C,GAAE,CAAC,CAAC,CAAC;aACT;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC1B;;;;QACM,0CAAa;;;QAApB;YACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;gBAC/C,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;aAC7C;YACD,IAAI,IAAI,CAAC,WAAW,EAAE;gBAClB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;aAC7C;YACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5B;;;;QACM,oDAAuB;;;QAA9B;YACI,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;oBAC/C,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;iBAC7C;gBACD,IAAI,IAAI,CAAC,WAAW,EAAE;oBAClB,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;iBAC7C;gBACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;gBACjB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5B;SACJ;;;;QACD,4CAAe;;;QAAf;YACI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;gBACnB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,OAAO;;;;oBAAC,UAAC,GAAG;wBACzB,GAAG,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC;qBAChC,EAAC,CAAA;oBACF,IAAI,CAAC,gBAAgB,CAAC,OAAO;;;;oBAAC,UAAC,GAAG;wBAC9B,GAAG,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC;qBAChC,EAAC,CAAA;iBACL;;gBAED,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;;;;gBAAC,UAAC,cAAc,IAAK,OAAA,CAAC,cAAc,CAAC,QAAQ,GAAA,EAAC,CAAC;gBACpF,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;gBACxB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC1C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAE3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aAC7C;iBACI;gBACD,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;oBACvB,IAAI,CAAC,WAAW,CAAC,OAAO;;;;oBAAC,UAAC,GAAG;wBACzB,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;qBACxB,EAAC,CAAC;oBACH,IAAI,CAAC,gBAAgB,CAAC,OAAO;;;;oBAAC,UAAC,GAAG;wBAC9B,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;qBACxB,EAAC,CAAA;iBACL;gBACD,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;gBACxB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;gBACzB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAC1C,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;gBAE3C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;aAC/C;SACJ;;;;QACD,8CAAiB;;;QAAjB;YAAA,iBA6BC;YA5BG,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;gBAC1C,IAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,OAAO;aACV;YACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;YAC1D,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM;;;;YAAC,UAAA,GAAG;;oBACtC,GAAG,GAAG,EAAE;gBACZ,IAAI,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;oBACnF,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC;iBAClB;qBACI;oBACD,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM;;;;oBAAC,UAAA,CAAC;wBACnB,OAAO,CAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC1F,EAAC,CAAC;iBACN;gBAED,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC;gBACf,IAAI,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;oBACnF,OAAO,GAAG,CAAC;iBACd;qBACI;oBACD,OAAO,GAAG,CAAC,IAAI;;;;oBAAC,UAAA,GAAG;wBACf,OAAO,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,KAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;qBAC5F,EACA,CAAA;iBACJ;aAEJ,EAAC,CAAC;SACN;;;;QACD,kDAAqB;;;QAArB;YAAA,iBAsEC;YArEG,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;;oBACrB,OAAK,GAAG,EAAE;gBACd,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;;;;;;;;;;;;;oBAcvB,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,OAAO;;;;oBAAC,UAAC,EAAO;wBACtC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;4BACxD,KAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;4BACrB,OAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;yBAClB;qBACJ,EAAC,CAAC;iBAEN;qBACI;oBACD,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,OAAO;;;;oBAAC,UAAC,IAAS;wBACxC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;4BACxB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;4BACvB,OAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACpB;qBAEJ,EAAC,CAAC;iBACN;gBAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAK,CAAC,CAAC;aACtC;iBACI;;oBACG,SAAO,GAAG,EAAE;gBAChB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;;;;;;;;;;;oBAWvB,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,OAAO;;;;oBAAC,UAAC,EAAO;wBACtC,IAAI,KAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;4BACrB,KAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;4BACxB,SAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;yBACpB;qBACJ,EAAC,CAAC;iBACN;qBACI;oBACD,IAAI,CAAC,EAAE,CAAC,eAAe,EAAE,CAAC,OAAO;;;;oBAAC,UAAC,IAAS;wBACxC,IAAI,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;4BACvB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;4BAC1B,SAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;yBACtB;qBAEJ,EAAC,CAAC;iBACN;gBACD,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAO,CAAC,CAAC;aAC1C;SACJ;;;;QACD,0DAA6B;;;QAA7B;YAAA,iBAkBC;YAjBG,IAAI,CAAC,IAAI,CAAC,yBAAyB,EAAE;gBACjC,IAAI,CAAC,WAAW,CAAC,OAAO;;;;gBAAC,UAAC,IAAS;oBAC/B,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;wBACxB,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;qBAC1B;iBACJ,EAAC,CAAC;gBACH,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;aACzC;iBACI;gBACD,IAAI,CAAC,WAAW,CAAC,OAAO;;;;gBAAC,UAAC,IAAS;oBAC/B,IAAI,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;wBACvB,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;qBAC7B;iBAEJ,EAAC,CAAC;gBACH,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;aAC1C;SACJ;;;;QACD,wCAAW;;;QAAX;YACI,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;aAC7D;YACD,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;SAElC;;;;;QACD,2CAAc;;;;QAAd,UAAe,IAAS;YAAxB,iBAmBC;YAlBG,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE;gBACtD,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAClC;;gBACG,GAAG,GAAG,CAAC;YACX,IAAI,CAAC,OAAO;;;;YAAC,UAAC,IAAS;gBAEnB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;oBAC3D,GAAG,EAAE,CAAC;iBACT;aACJ,EAAC,CAAC;YAEH,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,YAAY,IAAI,GAAG,EAAE;gBACrC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;aACjC;iBACI,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,CAAC,YAAY,IAAI,GAAG,EAAE;gBAC1C,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;aAClC;YACD,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;SAC5B;;;;;QACD,uCAAU;;;;QAAV,UAAW,GAAQ;YAGf,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACpB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;aAC1C;iBAAM,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;gBAChC,MAAM,0CAA0C,CAAC;aACpD;iBAAM;gBACH,OAAO,GAAG,CAAC;aACd;SACJ;;;;;QACD,4CAAe;;;;QAAf,UAAgB,IAAS;YAAzB,iBAyCC;YAxCG,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,OAAO,KAAK,CAAC;aAChB;;gBACG,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO;YAC/B,IAAI,CAAC,WAAW,CAAC,OAAO;;;;YAAC,UAAC,GAAQ;;oBAC1B,GAAG,GAAG,CAAC;gBACX,IAAI,GAAG,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBACzC,IAAI,GAAG,CAAC,IAAI,EAAE;wBACV,GAAG,CAAC,IAAI,CAAC,OAAO;;;;wBAAC,UAAC,EAAO;4BACrB,IAAI,KAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;gCACrB,GAAG,EAAE,CAAC;6BACT;yBACJ,EAAC,CAAC;qBACN;iBACJ;gBACD,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBAClE,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACvB;qBACI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBACtE,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACxB;aACJ,EAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,CAAC,OAAO;;;;YAAC,UAAC,GAAQ;;oBAC/B,GAAG,GAAG,CAAC;gBACX,IAAI,GAAG,CAAC,QAAQ,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBACzC,IAAI,GAAG,CAAC,IAAI,EAAE;wBACV,GAAG,CAAC,IAAI,CAAC,OAAO;;;;wBAAC,UAAC,EAAO;4BACrB,IAAI,KAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;gCACrB,GAAG,EAAE,CAAC;6BACT;yBACJ,EAAC,CAAC;qBACN;iBACJ;gBACD,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBAClE,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACvB;qBACI,IAAI,GAAG,CAAC,IAAI,KAAK,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;oBACtE,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACxB;aACJ,EAAC,CAAC;SACN;;;;;;QACD,0CAAa;;;;;QAAb,UAAc,GAAe,EAAE,KAAU;YAAzC,iBA6CC;;gBA5CS,UAAU,GAAQ,GAAG,CAAC,MAAM;;;;;YAAC,UAAC,IAAS,EAAE,GAAQ;gBACnD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;oBACnB,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;iBAC5B;qBAAM;oBACH,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;iBAC9B;gBACD,OAAO,IAAI,CAAC;aACf,GAAE,EAAE,CAAC;;gBACA,OAAO,GAAQ,EAAE;YACvB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG;;;;YAAC,UAAC,CAAM;;oBAC3B,GAAG,GAAQ,EAAE;;oBACb,iBAAiB,GAAG,EAAE;gBAC1B,GAAG,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC;gBACvB,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAChC,GAAG,CAAC,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;gBAC/B,GAAG,CAAC,UAAU,CAAC,GAAG,KAAK,CAAC;gBACxB,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;;oBACb,GAAG,GAAG,CAAC;gBACX,UAAU,CAAC,CAAC,CAAC,CAAC,OAAO;;;;gBAAC,UAAC,IAAS;oBAC5B,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;oBAClB,IAAI,IAAI,CAAC,QAAQ,EAAE;wBACf,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;wBAClC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;qBAChC;oBACD,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACpB,IAAI,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;wBACvB,GAAG,EAAE,CAAC;qBACT;iBACJ,EAAC,CAAC;gBACH,IAAI,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBACxB,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC;iBACvB;qBACI;oBACD,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACxB;;gBAGD,GAAG,CAAC,UAAU,CAAC,GAAG,iBAAiB,CAAC,MAAM,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACpE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;;;aAIrB,EAAC,CAAC;YACH,OAAO,OAAO,CAAC;SAClB;;;;;QACM,+CAAkB;;;;QAAzB,UAA0B,GAAQ;YAAlC,iBA4DC;;gBA3DO,aAAa,GAAe,EAAE;YAClC,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACvB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,EAAE,CAAC;aACpD;iBACI;gBACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;gBACrC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;aAC/C;YAED,IAAI,CAAC,GAAG,IAAI,IAAI,IAAI,GAAG,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACtD,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;4CAC1B,CAAC;wBAEN,OAAK,WAAW,CAAC,MAAM;;;;wBAAC,UAAC,EAAO;4BAC5B,IAAI,EAAE,CAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;gCAC9G,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;6BAC1B;yBACJ,EAAC,CAAC;;;oBANP,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE;gCAA7C,CAAC;qBAOT;iBAEJ;qBACI;oBACD,IAAI,CAAC,WAAW,CAAC,MAAM;;;;oBAAC,UAAU,EAAO;wBACrC,KAAK,IAAI,IAAI,IAAI,EAAE,EAAE;4BACjB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;gCAC9E,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCACvB,MAAM;6BACT;yBACJ;qBACJ,EAAC,CAAC;iBACN;gBACD,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC;gBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;aACvD;YACD,IAAI,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBAC/C,IAAI,CAAC,WAAW,CAAC,MAAM;;;;gBAAC,UAAU,EAAO;oBACrC,IAAI,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;wBAC/B,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;qBAC1B;yBACI;wBACD,KAAK,IAAI,IAAI,IAAI,EAAE,EAAE;4BACjB,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,EAAE;gCAC9E,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gCACvB,MAAM;6BACT;yBACJ;qBACJ;iBACJ,EAAC,CAAC;gBACH,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC;gBACjC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;aACvD;iBACI,IAAI,GAAG,CAAC,QAAQ,EAAE,IAAI,EAAE,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC1D,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;gBACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;gBACpC,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;aACjC;YACD,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;SAClC;;;;QACD,gDAAmB;;;QAAnB;YACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,yBAAyB,GAAG,KAAK,CAAC;YACvC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;YACtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;YACpC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC;YACzC,IAAI,CAAC,oBAAoB,GAAG,CAAC,CAAC;SACjC;;;;;QACD,wCAAW;;;;QAAX,UAAY,CAAM;YACd,IAAI,CAAC,CAAC,QAAQ,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC,UAAU,KAAK,CAAC,EAAE,CAE9D;YACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAE9B;;;;QACD,wCAAW;;;QAAX;YACI,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;aACnC;SAEJ;;;;;QACD,wCAAW;;;;QAAX,UAAY,IAAS;YAArB,iBAyBC;YAxBG,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;gBACtB,IAAI,CAAC,IAAI,CAAC,OAAO;;;;gBAAC,UAAC,GAAQ;oBACvB,KAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;iBAC5B,EAAC,CAAC;gBACH,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACjC;iBACI;gBACD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,IAAI,CAAC,IAAI,CAAC,OAAO;;;;gBAAC,UAAC,GAAQ;oBACvB,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE;wBACvB,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;qBACzB;iBAEJ,EAAC,CAAC;gBACH,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAC3B,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACnC;SAGJ;;;;QACD,6CAAgB;;;QAAhB;YACI,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC9C,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;SAC7E;;;;QACD,uDAA0B;;;QAA1B;;gBACQ,oBAAoB,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,IAAI,KAAK;YAC1D,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;;oBACtB,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY;;oBACjE,cAAc,GAAG,QAAQ,CAAC,eAAe,CAAC,YAAY;;oBACtD,kBAAkB,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,qBAAqB,EAAE;;oBAEhF,UAAU,GAAW,kBAAkB,CAAC,GAAG;;oBAC3C,aAAa,GAAW,cAAc,GAAG,kBAAkB,CAAC,GAAG;gBACrE,IAAI,aAAa,GAAG,UAAU,IAAI,cAAc,GAAG,UAAU,EAAE;oBAC3D,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;iBAC7B;qBACI;oBACD,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;iBAC9B;;;;;;;;;aASJ;SAEJ;;;;;QACD,2CAAc;;;;QAAd,UAAe,KAAc;YACzB,IAAI,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,EAAE;gBAC3D,IAAI,CAAC,mBAAmB,GAAG,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,YAAY,CAAC;aACpF;iBAAM;gBACH,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;aAChC;SACJ;;;;;QACD,2CAAc;;;;QAAd,UAAe,CAAM;YACjB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;gBACvB,IAAI,CAAC,gBAAgB,CAAC,OAAO;;;;gBAAC,UAAC,GAAG;oBAC9B,GAAG,CAAC,QAAQ,GAAG,KAAK,CAAC;iBACxB,EAAC,CAAA;aACL;YACD,IAAI,CAAC,WAAW,EAAE,CAAC;YACnB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC/C;;oBAz1BJtB,cAAS,SAAC;wBACP,QAAQ,EAAE,sBAAsB;wBAChC,65uBAA2C;wBAC3C,IAAI,EAAE,EAAE,SAAS,EAAE,yBAAyB,EAAE;wBAE9C,SAAS,EAAE,CAAC,+BAA+B,EAAE,2BAA2B,CAAC;wBACzE,aAAa,EAAEI,sBAAiB,CAAC,IAAI;;qBACxC;;;;oBAlC2OX,eAAU;oBAApIiB,sBAAiB;oBAQ1H,WAAW;;;2BA8Bfd,UAAK;+BAGLA,UAAK;8BAGLA,UAAK;+BAGLF,WAAM,SAAC,UAAU;iCAGjBA,WAAM,SAAC,YAAY;kCAGnBA,WAAM,SAAC,aAAa;oCAGpBA,WAAM,SAAC,eAAe;6BAGtBA,WAAM,SAAC,QAAQ;8BAGfA,WAAM,SAAC,SAAS;oCAGhBA,WAAM,SAAC,eAAe;wCAGtBA,WAAM,SAAC,mBAAmB;0CAG1BA,WAAM,SAAC,qBAAqB;yCAG5BA,WAAM,SAAC,oBAAoB;oCAG3BA,WAAM,SAAC,eAAe;sCAGtBA,WAAM,SAAC,iBAAiB;gCAGxBO,iBAAY,SAAC,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;iCACpCA,iBAAY,SAAC,KAAK,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;kCACrCA,iBAAY,SAAC,MAAM,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;kCAGtCa,cAAS,SAAC,aAAa,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;uCAC1CA,cAAS,SAAC,cAAc,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;uCAC3CA,cAAS,SAAC,cAAc,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;mCAE3CnB,iBAAY,SAAC,uBAAuB,EAAE,CAAC,QAAQ,CAAC;sCAwEhDmB,cAAS,SAAC,wBAAwB,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE;;QAitB1D,yBAAC;KA11BD,IA01BC;;QAED;SAMyC;;oBANxCC,aAAQ,SAAC;wBACN,OAAO,EAAE,CAACC,mBAAY,EAAEO,iBAAW,EAAE,qBAAqB,CAAC;wBAC3D,YAAY,EAAE,CAAC,kBAAkB,EAAE,qBAAqB,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,gBAAgB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,CAAC;wBACrK,OAAO,EAAE,CAAC,kBAAkB,EAAE,qBAAqB,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,IAAI,EAAE,gBAAgB,EAAE,KAAK,EAAE,MAAM,EAAE,WAAW,EAAE,KAAK,CAAC;wBAChK,SAAS,EAAE,CAAC,WAAW,CAAC;qBAC3B;;QACuC,+BAAC;KANzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}